<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="This application demonstrates on creating Multiprotocol (BLE and ZIGBEE) example project using MCC. This step by step procedure helps user to generate the Multiprotocol project from scratch and guides ..."/><meta name="copyright" content="(C) Copyright 2024"/><meta name="generator" content="DITA-OT"/><title>5.1 Multiprotocol (BLE+ZIGBEE) Concurrent Application</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064-d2080e760"/><meta name="wh-source-relpath" content="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064.xml"/><meta name="wh-out-relpath" content="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="PIC32CXBZ2 Application Developer's Guide &#xA;    "/></a>
                    <div class=" wh_publication_title "><a href="index.html">PIC32CXBZ2 Application Developer's Guide 
    </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"><div class="d-flex justify-content-end"><div class="dropdown"><a style="font-size: 1em; padding: 7px 12px !important;" class="btn py-3 px-3 btn-outline-light dropdown-toggle" href="#" role="button" id="devicesMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Product Pages</a><div style="font-size: 1em;" class="dropdown-menu" aria-labelledby="devicesMenu"><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/pic32cx-bz2">PIC32CX-BZ2</a><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/wbz451"> WBZ451</a></div></div></div></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23"><div class="title"><a href="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5</ph>
Getting Started with Multiprotocol Applications</a><div class="wh-tooltip"><p class="shortdesc">This section  describes steps to test and develop the precompiled BLE and Zigbee         coexistence application examples.</p></div></div></div></li><li class="active"><div class="topicref" data-id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064"><div class="title"><a href="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.1</ph>
Multiprotocol (BLE+ZIGBEE) Concurrent Application</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            <div class="row" style="margin-top: -1em;"><div class="col-lg-7 col-md-7 col-sm-12 offset-lg-3 offset-md-3 text-right border-bottom mb-1"><h2 class="text-dark header_title">
    </h2></div></div>
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424-d2080e9" class="topicref introduction" data-id="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424.html" id="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424-d2080e9-link">Introduction</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6-d2080e17" class="topicref" data-id="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6-d2080e17-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6.html" id="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6-d2080e17-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
Getting Started with WBZ451 Curiosity Board</a><div class="wh-tooltip"><p class="shortdesc">This section covers the evaluation board features and running the preprogrammed demo         example. </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7-d2080e76" class="topicref" data-id="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7-d2080e76-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7.html" id="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7-d2080e76-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">2</ph>
Getting Started with Software Development</a><div class="wh-tooltip"><p class="shortdesc">This section gives a detailed information on the steps to install IDE, compiler, tool         chain, BLE, Zigbee stacks and application examples on the PC. </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46-d2080e161" class="topicref" data-id="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46-d2080e161-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46.html" id="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46-d2080e161-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3</ph>
Getting Started with Bluetooth Low Energy Applications</a><div class="wh-tooltip"><p class="shortdesc">This section provides details on documentation describing the steps to test and develop         the precompiled BLE application examples. </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132-d2080e467" class="topicref" data-id="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132-d2080e467-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132.html" id="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132-d2080e467-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4</ph>
Getting Started with Zigbee Applications</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23-d2080e749" class="topicref" data-id="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23-d2080e749-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23.html" id="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23-d2080e749-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5</ph>
Getting Started with Multiprotocol Applications</a><div class="wh-tooltip"><p class="shortdesc">This section  describes steps to test and develop the precompiled BLE and Zigbee         coexistence application examples.</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" class="active"><div data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064-d2080e760" class="topicref" data-id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064.html" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064-d2080e760-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.1</ph>
Multiprotocol (BLE+ZIGBEE) Concurrent Application</a></div></div></li><li role="treeitem"><div data-tocid="GUID-707BAEEE-0EFF-428F-AFEC-C2E6C5E65BA9-d2080e768" class="topicref" data-id="GUID-707BAEEE-0EFF-428F-AFEC-C2E6C5E65BA9" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-707BAEEE-0EFF-428F-AFEC-C2E6C5E65BA9.html" id="GUID-707BAEEE-0EFF-428F-AFEC-C2E6C5E65BA9-d2080e768-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.2</ph>
 Multiprotocol Application Demo: Zigbee Light and Zigbee Commissioning through BLE</a></div></div></li><li role="treeitem"><div data-tocid="GUID-CD3623AD-850D-4926-AE66-031692156BAB-d2080e776" class="topicref" data-id="GUID-CD3623AD-850D-4926-AE66-031692156BAB" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-CD3623AD-850D-4926-AE66-031692156BAB.html" id="GUID-CD3623AD-850D-4926-AE66-031692156BAB-d2080e776-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.3</ph>
Multiprotocol Device Firmware Upgrade over BLE Link</a></div></div></li><li role="treeitem"><div data-tocid="GUID-998705A8-0286-429C-B35C-0F5E95D94A3D-d2080e784" class="topicref" data-id="GUID-998705A8-0286-429C-B35C-0F5E95D94A3D" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-998705A8-0286-429C-B35C-0F5E95D94A3D.html" id="GUID-998705A8-0286-429C-B35C-0F5E95D94A3D-d2080e784-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.4</ph>
Zigbee Commissioning through BLE - Protocol Exchange</a></div></div></li><li role="treeitem"><div data-tocid="GUID-3D00CE26-A97E-44F4-9A17-A9CC112DAF43-d2080e792" class="topicref" data-id="GUID-3D00CE26-A97E-44F4-9A17-A9CC112DAF43" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-3D00CE26-A97E-44F4-9A17-A9CC112DAF43.html" id="GUID-3D00CE26-A97E-44F4-9A17-A9CC112DAF43-d2080e792-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.5</ph>
BLE ZigBee Provisioning Low Power Application Demo: Zigbee Multi-Sensor and Zigbee Commissioning through BLE</a></div></div></li><li role="treeitem"><div data-tocid="GUID-D19D67C4-1BF4-4BC6-A40B-826A1ADD4233-d2080e800" class="topicref" data-id="GUID-D19D67C4-1BF4-4BC6-A40B-826A1ADD4233" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-D19D67C4-1BF4-4BC6-A40B-826A1ADD4233.html" id="GUID-D19D67C4-1BF4-4BC6-A40B-826A1ADD4233-d2080e800-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.6</ph>
Multiprotocol BLE Provisioning MCC Component</a></div></div></li><li role="treeitem"><div data-tocid="GUID-E849D12C-B4EB-4C56-A459-A6B4E5CE8C3A-d2080e808" class="topicref" data-id="GUID-E849D12C-B4EB-4C56-A459-A6B4E5CE8C3A" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-E849D12C-B4EB-4C56-A459-A6B4E5CE8C3A.html" id="GUID-E849D12C-B4EB-4C56-A459-A6B4E5CE8C3A-d2080e808-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.7</ph>
BLE Thread Light Provisioning FTD and MTD Demo Applications</a></div></div></li><li role="treeitem"><div data-tocid="GUID-FE5DA906-7F7E-4C7F-8AAF-FD5E80CAF1E6-d2080e816" class="topicref" data-id="GUID-FE5DA906-7F7E-4C7F-8AAF-FD5E80CAF1E6" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-FE5DA906-7F7E-4C7F-8AAF-FD5E80CAF1E6.html" id="GUID-FE5DA906-7F7E-4C7F-8AAF-FD5E80CAF1E6-d2080e816-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.8</ph>
BLE Thread Sensor Provisioning SED Demo Application</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-4125F29B-9CDF-469C-B480-1E4BFC8A3792-d2080e824" class="topicref" data-id="GUID-4125F29B-9CDF-469C-B480-1E4BFC8A3792" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-4125F29B-9CDF-469C-B480-1E4BFC8A3792-d2080e824-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-4125F29B-9CDF-469C-B480-1E4BFC8A3792.html" id="GUID-4125F29B-9CDF-469C-B480-1E4BFC8A3792-d2080e824-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.9</ph>
Full Function Device Demo for BLE and MAC Provisioning</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-16CCD2B4-A210-437A-8857-28D8A48DD7DA-d2080e848" class="topicref" data-id="GUID-16CCD2B4-A210-437A-8857-28D8A48DD7DA" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-16CCD2B4-A210-437A-8857-28D8A48DD7DA-d2080e848-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-16CCD2B4-A210-437A-8857-28D8A48DD7DA.html" id="GUID-16CCD2B4-A210-437A-8857-28D8A48DD7DA-d2080e848-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5.10</ph>
Reduced Function Device Demo for BLE and MAC Provisioning</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18-d2080e872" class="topicref" data-id="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-3E242310-437D-4F50-9E63-3C9EF144CD18-d2080e872-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18.html" id="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18-d2080e872-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">6</ph>
 Getting Started with IEEE 802.15.4 P2P Phy Application</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-844F1D7E-3A7A-4ECA-AEF5-92CE82D93D60-d2080e928" class="topicref" data-id="GUID-844F1D7E-3A7A-4ECA-AEF5-92CE82D93D60" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-844F1D7E-3A7A-4ECA-AEF5-92CE82D93D60-d2080e928-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-844F1D7E-3A7A-4ECA-AEF5-92CE82D93D60.html" id="GUID-844F1D7E-3A7A-4ECA-AEF5-92CE82D93D60-d2080e928-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">7</ph>
Full Function Device Demo for Push Pull Star Application</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-8A094FC6-AEE7-4DB0-AF08-EA00931DA854-d2080e960" class="topicref" data-id="GUID-8A094FC6-AEE7-4DB0-AF08-EA00931DA854" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-8A094FC6-AEE7-4DB0-AF08-EA00931DA854-d2080e960-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-8A094FC6-AEE7-4DB0-AF08-EA00931DA854.html" id="GUID-8A094FC6-AEE7-4DB0-AF08-EA00931DA854-d2080e960-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">8</ph>
Reduced Function Device Demo for Push Pull Star Application</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-38BBA2DC-AE28-4500-BCC9-0FEFC317CF04-d2080e992" class="topicref" data-id="GUID-38BBA2DC-AE28-4500-BCC9-0FEFC317CF04" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-38BBA2DC-AE28-4500-BCC9-0FEFC317CF04-d2080e992-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-38BBA2DC-AE28-4500-BCC9-0FEFC317CF04.html" id="GUID-38BBA2DC-AE28-4500-BCC9-0FEFC317CF04-d2080e992-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">9</ph>
Getting Started with Thread Applications</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD-d2080e1057" class="topicref" data-id="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD-d2080e1057-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD.html" id="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD-d2080e1057-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">10</ph>
Adding Chip Peripherals</a><div class="wh-tooltip"><p class="shortdesc">This section describes how to add analog/digital peripherals to the                                         application</p></div></div></div></li><li role="treeitem"><div data-tocid="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE-d2080e1098" class="topicref" data-id="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE.html" id="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE-d2080e1098-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">11</ph>
Flashing hex from MPLAB DISCOVER using MPLAB IPE</a><div class="wh-tooltip"><p class="shortdesc">This section provides a detailed procedure of how to download an already existing     application hex file from MPLAB DISCOVER and flash the hex file into <span class="ph">WBZ451</span> Curiosity Board using MPLAB IPE.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE-d2080e1112" class="topicref" data-id="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE-d2080e1112-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE.html" id="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE-d2080e1112-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">12</ph>
Low Power Design</a><div class="wh-tooltip"><p class="shortdesc">This section explains in detail on how to enable the low power modes –             <span class="ph instanceOffsets">Sleep/Standby or Deep Sleep/Backup modes in the             design.</span></p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B-d2080e1144" class="topicref" data-id="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B-d2080e1144-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B.html" id="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B-d2080e1144-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">13</ph>
Firmware and OTA Updates</a><div class="wh-tooltip"><p class="shortdesc">This section documents how to enable firmware updates in the design, whether it is serial         or Over The Air (OTA)</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50-d2080e1543" class="topicref" data-id="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50-d2080e1543-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50.html" id="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50-d2080e1543-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">14</ph>
Wireless System Services API</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7-d2080e2232" class="topicref" data-id="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7-d2080e2232-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7.html" id="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7-d2080e2232-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">15</ph>
Support Documentation</a><div class="wh-tooltip"><p class="shortdesc">This section has documentation that is generic and used as supporting document with the         application example documentation. </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-58FF8D49-65D8-4C82-8D7C-3E924A3ADF7B-d2080e2267" class="topicref" data-id="GUID-58FF8D49-65D8-4C82-8D7C-3E924A3ADF7B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-58FF8D49-65D8-4C82-8D7C-3E924A3ADF7B-d2080e2267-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-58FF8D49-65D8-4C82-8D7C-3E924A3ADF7B.html" id="GUID-58FF8D49-65D8-4C82-8D7C-3E924A3ADF7B-d2080e2267-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">16</ph>
Porting Guide</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d2080e2344" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d2080e2344-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d2080e2344-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-653CE1B0-6179-4CF8-82B3-BA8D0855BB65"><h1 class="- topic/title title topictitle1" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-653CE1B0-6179-4CF8-82B3-BA8D0855BB65" style="">5.1 Multiprotocol (BLE+ZIGBEE) Concurrent
        Application</h1><div class="- topic/body body"><p class="- topic/p p">This application demonstrates on creating Multiprotocol (BLE and ZIGBEE) example project using
            MCC. This step by step procedure helps user to generate the Multiprotocol project from
            scratch and guides in understanding few API calls needed for data transaction between
            two protocols.</p><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__HARDWARE-REQUIRED" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__HARDWARE-REQUIRED"><h2 class="- topic/title title sectiontitle">Hardware Requirement</h2><div class="table-container"><table class="- topic/table table" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535" data-cols="2"><caption class="- topic/title title tablecap" data-caption-side="top" data-is-repeated="true"><span class="table--title-label"><span class="table--title-label">Table 5-1. </span></span><span class="table--title" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-27AF5AF0-F2FA-4976-9EC9-517499C628DB">Hardware Requirement</span></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__1"> <strong class="+ topic/ph hi-d/b ph b">Tool</strong></th><th class="- topic/entry entry colsep-0 rowsep-0" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__2"> <strong class="+ topic/ph hi-d/b ph b">Qty</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__1"><span class="- topic/ph ph">WBZ451</span> Curiosity Board</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__2">2</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__1">Micro USB cable</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__2">2</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__1">Android/iOS Mobile</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E0402AE1-10FD-4FE8-8E32-055F9342F535__entry__2">1</td></tr></tbody></table></div></section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SDK-SETUP" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SDK-SETUP"><h2 class="- topic/title title sectiontitle">SDK Setup</h2>
            <ul class="- topic/ul ul">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-8F8EB852-2047-47C0-8A5D-8C9466EAECA8" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-8F8EB852-2047-47C0-8A5D-8C9466EAECA8">
                    <p class="- topic/p p">
                        <a class="- topic/xref xref" href="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7.html" title="This section gives a detailed information on the steps to install IDE, compiler, tool chain, BLE, Zigbee stacks and application examples on the PC.">SDK
                            Setup</a></p>
                </li>
            </ul></section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SOFTWARE" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SOFTWARE"><h2 class="- topic/title title sectiontitle">Software Requirement</h2>
            <ul class="- topic/ul ul">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F986E27D-89CF-4DB9-902A-13C7DBEEBD9D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F986E27D-89CF-4DB9-902A-13C7DBEEBD9D">
                    <p class="- topic/p p">
                        <a class="- topic/xref xref" href="https://ttssh2.osdn.jp/index.html.en" target="_blank" rel="external noopener">Tera
                            Term</a></p>
                </li>
            </ul></section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SMARTPHONE-APP" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SMARTPHONE-APP"><h2 class="- topic/title title sectiontitle">Smartphone App</h2>
            <ul class="- topic/ul ul">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B91ED951-7BC9-4410-B8D7-EA8C1FDA84E0" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B91ED951-7BC9-4410-B8D7-EA8C1FDA84E0">
                    <p class="- topic/p p">Microchip Bluetooth Data (MBD) iOS/Android app available in stores</p>
                </li>
            </ul></section>
        <section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PROGRAMMING-THE-PRECOMPILED-HEX-FILE-OR-APPLICATION-EXAMPLE" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PROGRAMMING-THE-PRECOMPILED-HEX-FILE-OR-APPLICATION-EXAMPLE"><h2 class="- topic/title title sectiontitle">Programming the Precompiled Hex
                File or Application Example</h2>
            
            <p class="- topic/p p">This demo needs two devices, as described below:</p>
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DEE3C59C-B2AA-497A-BAA3-027C55423583" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DEE3C59C-B2AA-497A-BAA3-027C55423583">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D0812CCB-BF1A-4A4B-BBE8-3C3220160522" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D0812CCB-BF1A-4A4B-BBE8-3C3220160522"><strong class="+ topic/ph hi-d/b ph b"><code class="+ topic/ph pr-d/codeph ph codeph">combinedInterface.X</code></strong>: One of the <span class="- topic/ph ph">WBZ451</span> Curiosity boards is programmed with Combined Interface which
                    can act as Zigbee Gateway/Coordinator. Program the CI pre-compiled hex image by
                    following the steps mentioned in the “Programming the precompiled hex file or
                    Application Example” section of the <a class="- topic/xref xref" href="GUID-07AD46F8-182D-4FBA-AA80-D58BEEDC78AB.html">Zigbee
                        Centralized Network Formation by Combined Interface</a> application, on
                    one curiosity board.</li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F593CA8E-557E-4287-B73E-1972753A0C0A" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F593CA8E-557E-4287-B73E-1972753A0C0A"><strong class="+ topic/ph hi-d/b ph b"><code class="+ topic/ph pr-d/codeph ph codeph">ble_zigbee_basic.X</code></strong>: On Another <span class="- topic/ph ph">WBZ451</span> Curiosity board program with ble_zigbee_basic application.
                    Follow the below step for programming <code class="+ topic/ph pr-d/codeph ph codeph">ble_zigbee_basic.X</code>
                    application on another curiosity board.</li>
            </ol>
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Programming the <code class="+ topic/ph pr-d/codeph ph codeph">.hex</code> File using MPLAB X IPE</strong></p>
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-86DFBE12-A651-42BA-B28A-3BBE8A45957A" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-86DFBE12-A651-42BA-B28A-3BBE8A45957A">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2F820597-A034-46C7-8B24-7A12D0F3539C" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2F820597-A034-46C7-8B24-7A12D0F3539C">Import and program the
                    precompiled <code class="+ topic/ph pr-d/codeph ph codeph">.hex</code> file is located in <code class="+ topic/ph pr-d/codeph ph codeph">"<span class="- topic/ph ph">&lt;Harmony Content Path&gt;\wireless_apps_pic32cxbz2_wbz45</span>\apps\multiprotocol\ble_zigbee_basic\hex"</code>
                    folder</li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-32A5BDB1-E7AC-43F3-8DE0-1C2A0C6B2BA4" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-32A5BDB1-E7AC-43F3-8DE0-1C2A0C6B2BA4">For more details on the steps, go
                    to <a class="- topic/xref xref" href="https://microchipdeveloper.com/ipe:programming-device" target="_blank" rel="external noopener">Programming a Device</a><div class="- topic/p p">
                        <div class="- topic/note note notype note_notype" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__NOTE_RHV_JWQ_XYB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__NOTE_RHV_JWQ_XYB"><span class="note__title">Note:</span>  Users must choose the correct device and tool
                            information</div>
                    </div></li>
            </ol>
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Programming the Application using MPLAB X IDE</strong></p>
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-38E32D75-4A7E-4FCA-AB19-EAC72582B498" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-38E32D75-4A7E-4FCA-AB19-EAC72582B498">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-33A1AC6E-81BD-4873-9C21-CC3BF516AAC9" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-33A1AC6E-81BD-4873-9C21-CC3BF516AAC9">Follow steps mentioned in the
                        <a class="- topic/xref xref" href="GUID-EA74172C-595E-4A34-B359-D42EE443F0EC.html" title="This section gives a detail explanation on how to open, build and program an existing application example.">Running
                        a Precompiled Example</a> section.</li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-273771E1-1429-4916-B47A-7295375162D8" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-273771E1-1429-4916-B47A-7295375162D8">Open and program the application
                    example "<code class="+ topic/ph pr-d/codeph ph codeph">ble_zigbee_basic.X</code>" located in "<code class="+ topic/ph pr-d/codeph ph codeph"><span class="- topic/ph ph">&lt;Harmony Content Path&gt;\wireless_apps_pic32cxbz2_wbz45</span>\apps\multiprotocol\ble_zigbee_basic\firmware"</code>
                    using MPLAB X IDE<p class="- topic/p p">For more details on finding the Harmony content path, refer
                        to <a class="- topic/xref xref" href="GUID-A55E9342-CE44-4A91-86BB-FEC6706FCD1C.html#GUID-A55E9342-CE44-4A91-86BB-FEC6706FCD1C__GUID-C6B23D06-5DF8-4D73-B997-AC22020FE9D3">Installing the MCC Plugin</a></p></li>
            </ol>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEMO-DESCRIPTION" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEMO-DESCRIPTION"><h2 class="- topic/title title sectiontitle">Demo Description</h2><p class="- topic/p p">This application demonstrates the Zigbee ON/OFF light joining to Zigbee Gateway (Combined
                Interface) and the Microchip Proprietary Transparent Service based BLE peripheral
                running concurrently with Zigbee protocol connects with the mobile app. When the
                Zigbee light gets the light ON/OFF command from CI, it will be reflected in the
                mobile app. Hence, this application is a demonstration of the simple concurrent
                operation of Multiprotocol. This application focuses on Lights and Bridge (CI)
                devices, with the understanding that the WiFi/Ethernet gateway falls outside the
                scope of this application. The third party Gateway like Amazon Echo plus can also be
                used instead of CI.</p>
            <figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-106ECB72-9DCB-4D93-A7D0-FD80D0EF2DB0" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-106ECB72-9DCB-4D93-A7D0-FD80D0EF2DB0"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 5-1. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-4395FEAA-BB43-48B0-A7A7-C3C460D29C4D" class="fig--title">Demonstration</span></span></figcaption>
                
                <div class=""><img class="- topic/image image break break" src="GUID-F77964E0-46D6-44BD-A53F-9A31892870FF-high.png" width="750"/></div>
            </figure></section>
        <section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DBEF62B8-6569-4802-9A1C-57D13F6B8E65" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DBEF62B8-6569-4802-9A1C-57D13F6B8E65"><h2 class="- topic/title title sectiontitle">Testing</h2>
            
            <p class="- topic/p p">This section assumes that user has already programmed the Multiprotocol application
                example and Combined Interface application example on two <span class="- topic/ph ph">WBZ451</span> Curiosity boards.</p>
            <div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Demo Experience while using a Smart Phone (MBD App) as the Central Device</strong><ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EBEF6C21-9023-4901-8FE7-6A4EDBE6A85D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EBEF6C21-9023-4901-8FE7-6A4EDBE6A85D">
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E2D9E472-F107-4873-932C-124E9B0B935C" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E2D9E472-F107-4873-932C-124E9B0B935C">Reset the Combined Interface programmed on the <span class="- topic/ph ph">WBZ451</span> Curiosity board.</li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F654E920-3979-4C7C-83A0-1F9915C70EE6" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F654E920-3979-4C7C-83A0-1F9915C70EE6">Open TeraTerm and configure
                        as mentioned below:<div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Terminal Settings</strong><ul class="- topic/ul ul" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__UL_A2M_3SV_TBC" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__UL_A2M_3SV_TBC">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1787E95E-12DF-4EB6-B851-B3B041DA7AFD" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1787E95E-12DF-4EB6-B851-B3B041DA7AFD"><strong class="+ topic/ph hi-d/b ph b">Baud
                                        Rate/Speed</strong> – 115200 (as configured in SERCOM
                                    configuration)</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FEC355FB-13CA-4BA2-980D-4661D483B12F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FEC355FB-13CA-4BA2-980D-4661D483B12F"><strong class="+ topic/ph hi-d/b ph b">Parity</strong> –
                                    None</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D51902AC-0B0D-4082-AA99-6F86543AD13C" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D51902AC-0B0D-4082-AA99-6F86543AD13C"><strong class="+ topic/ph hi-d/b ph b">Data Bits</strong>
                                    – 8</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-34F7BA48-47EF-49B2-B788-14CA855FE710" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-34F7BA48-47EF-49B2-B788-14CA855FE710"><strong class="+ topic/ph hi-d/b ph b">Stop Bits</strong>
                                    – 1</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C94DDE5D-F094-4198-971D-2AEB37D83605" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C94DDE5D-F094-4198-971D-2AEB37D83605"><strong class="+ topic/ph hi-d/b ph b">Flow
                                        Control</strong> – None</li>
                            </ul></div><p class="- topic/p p">For more details on how to set the “Serial Port” and
                            “Speed”, refer to <a class="- topic/xref xref" href="GUID-EA74172C-595E-4A34-B359-D42EE443F0EC.html#GUID-EA74172C-595E-4A34-B359-D42EE443F0EC__GUID-273AC877-8841-439D-BBC2-A75688760B15">COM Port Setup</a></p></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CC044482-5F1E-4913-ADD6-1D47604396BA" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CC044482-5F1E-4913-ADD6-1D47604396BA">Enable CR+LF for RX, TX in Terminal setup.</li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EA7580E9-6EB0-468B-8AA3-90FB1D0C0AC1" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EA7580E9-6EB0-468B-8AA3-90FB1D0C0AC1">Send command: <code class="+ topic/ph pr-d/codeph ph codeph">resetToFN</code> and look for the below logs for
                        successful Zigbee network formation on CI<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-94B0F94D-8E2A-4590-A091-EF0611B05661" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-94B0F94D-8E2A-4590-A091-EF0611B05661"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-2. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D0068C0F-D4C6-4DCF-9A60-93E432AD3040" class="fig--title">Network Formation Logs</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-F7D4EB1A-E810-4A37-BBE8-95259AAC86F6-high.svg"/></div></div>
                        </figure></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-700AA26B-3842-401C-8F5C-E600EAD863B9" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-700AA26B-3842-401C-8F5C-E600EAD863B9">Reset Combo device and send command: <code class="+ topic/ph pr-d/codeph ph codeph">resetToFN</code>. Look for
                        combo device joining with Combined Interface. The ON/OFF light cluster
                        search and binding between two devices is successful, and Combo device
                        ON/OFF light attributes reports are seen in CI. During the 180sec
                        commissioning period, the RED LED Toggles.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FAD9295E-5962-47B8-A920-05D654B91600" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FAD9295E-5962-47B8-A920-05D654B91600"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-3. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5E23B6F7-7ECD-4A58-94D6-75AD6565860B" class="fig--title">Combined Interface and Combo Device Logs</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-A60BC10E-F631-4A0C-8DFE-0AFDC6D19C1F-high.svg"/></div></div>
                        </figure></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6846AEC1-43CC-4B13-B48F-A35F59CB5348" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6846AEC1-43CC-4B13-B48F-A35F59CB5348">Open Microchip Bluetooth Data (MBD) App on the smart phone, <ol class="- topic/ol ol" type="a" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D3690A00-F10C-455A-9C25-2901BBA7B021" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D3690A00-F10C-455A-9C25-2901BBA7B021">
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DF3ADEFC-DB13-4AC1-964A-17139F5320E2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DF3ADEFC-DB13-4AC1-964A-17139F5320E2">Select <strong class="+ topic/ph hi-d/b ph b">BLE Smart</strong></li>
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AE3CB975-DC70-42D2-8183-319878F982E3" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AE3CB975-DC70-42D2-8183-319878F982E3">Select the advertisement with Device Name <strong class="+ topic/ph hi-d/b ph b">Combo</strong>, to connect
                                with the combo device<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D656F4DD-C5EC-4F94-ACDC-9E13D5CD83DB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D656F4DD-C5EC-4F94-ACDC-9E13D5CD83DB"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-4. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0712B29D-F4CC-48C4-822B-268BE0FE777D" class="fig--title">MBD Combo Device Conection</span></span></figcaption>
                                    
                                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-C9C8CB26-F0D8-44D9-AAA1-3F1ADBFD1550-high.svg"/></div></div>
                                </figure></li>
                        </ol></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-14100C37-7FB9-459C-8366-B669D4C4B321" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-14100C37-7FB9-459C-8366-B669D4C4B321">Enable <strong class="+ topic/ph hi-d/b ph b">Notify/Indicate</strong> option to receive data from the Combo device<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-54514BDB-3763-4D25-A69D-2A1741EFEFE6" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-54514BDB-3763-4D25-A69D-2A1741EFEFE6"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-5. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-09341E8A-23E2-4E0B-BC62-57564A1CECC1" class="fig--title">Notify/Indicate</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-AE210C57-B58E-4197-9AD4-D8B22AED044B-high.svg"/></div></div>
                        </figure></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-980121E1-37B8-4C04-9FEE-CBD447DECFB0" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-980121E1-37B8-4C04-9FEE-CBD447DECFB0">After the 180 seconds commissioning period, write
                            <strong class="+ topic/ph hi-d/b ph b"><code class="+ topic/ph pr-d/codeph ph codeph">8F01</code></strong> to switch ON RED LED and look for ON/OFF
                        attribute value changing to <code class="+ topic/ph pr-d/codeph ph codeph">0x01</code> in CI logs, and RED LED
                        getting ON. Similarly write <strong class="+ topic/ph hi-d/b ph b"><code class="+ topic/ph pr-d/codeph ph codeph">8F00</code></strong> to switch OFF RED
                        LED and look for attribute value changing to <code class="+ topic/ph pr-d/codeph ph codeph">0x00</code> in CI
                        logs. As previously stated, the updated report value will be reflected in
                        the CI logs following the minimum report interval.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-8E6DFD4D-6983-4D87-AC63-4E91A09597F0" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-8E6DFD4D-6983-4D87-AC63-4E91A09597F0"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-6. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-578ECB35-EE70-45C9-B374-C6C84DBF2199" class="fig--title">Write to Switch ON</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-D13853F2-B1F2-4CB6-B957-6790E0B2B8F9-high.svg"/></div></div>
                        </figure><figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B32821C3-365D-4FD6-A893-07267E0746E9" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B32821C3-365D-4FD6-A893-07267E0746E9"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-7. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B3539BBA-F0DB-430B-A1FE-254125C0C9D0" class="fig--title">Control Commands</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-0E5A1772-CD34-43CD-AD06-572F3226E106-high.svg"/></div></div>
                        </figure></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EF61C371-4BB4-4EFC-9E07-345471BCDDD6" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EF61C371-4BB4-4EFC-9E07-345471BCDDD6">By sending ON/OFF command from CI the RED LED can be switched ON/OFF. This
                        value can be seen in MBD app as well<ol class="- topic/ol ol" type="a" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-19EDE730-33B5-4218-BA7E-D46F32ED0928" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-19EDE730-33B5-4218-BA7E-D46F32ED0928">
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A8ACEE02-ED4F-4221-95AC-32DEC1D3B70D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A8ACEE02-ED4F-4221-95AC-32DEC1D3B70D">The network address of the Combo device is needed to send light
                                control commands to Combo device from CI. This network address can
                                be obtained from Combined Interface console logs, while the joining
                                was done.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AE55CE0A-641A-4E7F-B1D4-44C472433281" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AE55CE0A-641A-4E7F-B1D4-44C472433281"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-8. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-17EF2C3C-8D15-4277-9A06-52C9DF18FB9B" class="fig--title">Device Address</span></span></figcaption>
                                    
                                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-2D10DC81-93EB-4391-9AAA-61F988E37802-high.svg"/></div></div>
                                </figure></li>
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-208B8191-29ED-44D7-BCB1-523288447BEB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-208B8191-29ED-44D7-BCB1-523288447BEB">Another way to obtain the network address from Combo device is by
                                executing the below command in Combo light
                                        side<p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Command</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>← getNetworkAddress</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Response</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>→ 493f</code></pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Example</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>←getNetworkAddress
→493f
←onOff 0x0 0x4937 0x20 -on  // Light ON
←onOff 0x0 0x4937 0x20 -off // Light OFF
//0x20 is zigbee end point number used for light can be taken from MCC configurator</code></pre><div class="- topic/p p">
                                    <figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-180801F7-D71D-4A58-BC79-9CE1D49C3ABB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-180801F7-D71D-4A58-BC79-9CE1D49C3ABB"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-9. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CF3B043D-A147-47F7-8A08-91759E607AD9" class="fig--title">EndPoint Address</span></span></figcaption>
                                        
                                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-11C69AEB-2791-4A36-BE8D-7ECFC36FF36E-high.svg"/></div></div>
                                    </figure>
                                </div></li>
                        </ol></li>
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F643B794-6691-4A84-924C-04282C3942E1" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F643B794-6691-4A84-924C-04282C3942E1">Read Notify<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-91D31F4E-485C-4A2F-BC46-80E316AF9B70" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-91D31F4E-485C-4A2F-BC46-80E316AF9B70"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-10. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D595CB31-F37F-4B3F-8AF2-5FA4D9F2F99F" class="fig--title">Read Notify</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-A34F6FBF-B8B5-4D33-8BAC-742AAEF7B2AE-high.svg"/></div></div>
                        </figure></li>
                </ol></div>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEVELOPING-THIS-APPLICATION-FROM-SCRATCH-USING-MPLAB-CODE-CONFIGURATOR" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEVELOPING-THIS-APPLICATION-FROM-SCRATCH-USING-MPLAB-CODE-CONFIGURATOR"><h2 class="- topic/title title sectiontitle">Developing the Application from
                Scratch using MCC</h2>
            <div class="- topic/p p">The following steps helps to understand the <span class="- topic/ph ph">PIC32CXBZ2</span> device
                Zigbee and BLE stack programming structure. Recommendation is to follow the steps.
                If wish is to have Out-of-Box experience with the precompiled hex file go to the top
                of this section.<div class="- topic/note note notype note_notype" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__NOTE_G4P_WXQ_XYB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__NOTE_G4P_WXQ_XYB"><span class="note__title">Note:</span>  It is recommended that new users of MCC
                    to go through the <a class="- topic/xref xref" href="https://onlinedocs.microchip.com/pr/GUID-1F7007B8-9A46-4D03-AEED-650357BA760D-en-US-6/index.html?GUID-B5D058F5-1D0B-4720-8649-ACE5C0EEE2C0" target="_blank" rel="external noopener">overview</a>.</div></div>
            <p class="- topic/p p">For developing combined interface from scratch, refer to the “Creating Application
                Device Types from Scratch using MCC” section of the <a class="- topic/xref xref" href="GUID-07AD46F8-182D-4FBA-AA80-D58BEEDC78AB.html">Zigbee
                    Centralized Network Formation by Combined Interface</a></p>
            <p class="- topic/p p">This tutorial explains developing ble_zigbee_basic application from scratch</p></section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PULL-IN-H3-COMPONENTS" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PULL-IN-H3-COMPONENTS"><h2 class="- topic/title title sectiontitle">Pull-in MCC Components</h2>
            
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7D17E050-BAC4-47B6-A021-20E812CEBE4F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7D17E050-BAC4-47B6-A021-20E812CEBE4F">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D9221AAD-C828-4F82-97BE-7AE839567B56" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D9221AAD-C828-4F82-97BE-7AE839567B56">Create a new MCC Harmony Project.
                    For more details, refer to <a class="- topic/xref xref" href="GUID-B86E8493-D00D-46EF-8624-D412342147F0.html"><span><span>2.5 </span><span>Creating a New MCC Harmony Project</span></span></a>.</li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-87261441-AE44-4C13-952E-3E1E490254F4" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-87261441-AE44-4C13-952E-3E1E490254F4">Import component configuration –
                    This step helps users setup the basic components and configuration required to
                    develop this application. The imported file is of format <code class="+ topic/ph pr-d/codeph ph codeph">.mc3</code>
                    and is located in the path <code class="+ topic/ph pr-d/codeph ph codeph">"<span class="- topic/ph ph">&lt;Harmony Content Path&gt;\wireless_apps_pic32cxbz2_wbz45</span>\apps\multiprotocol\ble_zigbee_basic\firmware\ble_zigbee_basic.X".
                        </code><p class="- topic/p p">For more details on importing the component configuration ,
                        refer to <a class="- topic/xref xref" href="GUID-F8FE2886-8A2C-4FC0-9956-C094CE44D162.html"><span><span>15.3 </span><span>Importing Existing App Example Configuration </span></span></a></p><div class="- topic/note note notype note_notype" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__NOTE_Y2X_BYQ_XYB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__NOTE_Y2X_BYQ_XYB"><span class="note__title">Note:</span>  Import and export functionality of Harmony component
                        configuration will help users to start from a known working setup of MCC
                        configuration</div></li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FDB9F781-4AB3-4EC5-AE83-4F9613E08E66" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FDB9F781-4AB3-4EC5-AE83-4F9613E08E66">Verify the project graph and
                    configuration options shown in the below steps.</li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7E37B22C-FC93-4525-BCF6-3F3936E3D579" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7E37B22C-FC93-4525-BCF6-3F3936E3D579">Another method is manually adding and configuring the components in project graph<ol class="- topic/ol ol" type="a" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-119EEE16-A5F1-462F-9241-ADB38C73FD1A" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-119EEE16-A5F1-462F-9241-ADB38C73FD1A">
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-686D0295-D8AF-485F-A0B9-FEDB2A6FC55F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-686D0295-D8AF-485F-A0B9-FEDB2A6FC55F">From “Device Resources” field, select <strong class="+ topic/ph hi-d/b ph b">+ onoff Light</strong> component
                            (Zigbee component), to add it in project graph.</li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CA3A0561-2791-4BEC-AB3E-DD2D1E21FF62" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CA3A0561-2791-4BEC-AB3E-DD2D1E21FF62">Accept Dependencies or
                            satisfiers, select <strong class="+ topic/ph hi-d/b ph b">Yes</strong><figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-31A4B5C0-6319-45CD-8690-6B9D8F62AD27" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-31A4B5C0-6319-45CD-8690-6B9D8F62AD27"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 5-11. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CB230406-A12B-4C9C-99AC-130BA7927861" class="fig--title">Auto-Activation and Auto-Connection Request</span></span></figcaption>
                                
                                <div class=""><img class="- topic/image image" src="GUID-CB3F5A27-899A-4DAE-A20B-D6BA0256C1B9-high.png" width="600"/></div>
                            </figure><figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D850A211-BC7B-4166-8433-7EDD8B671EC9" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D850A211-BC7B-4166-8433-7EDD8B671EC9"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-12. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6C40FB41-51BE-4CB9-A1E4-4A77A84CB961" class="fig--title">Project Graph</span></span></figcaption>
                                
                                <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-7E75706F-0310-4FC1-B07A-0DC5E1B3B5EA-high.svg"/></div></div>
                            </figure></li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3C21F8F2-094D-4177-8351-E77A676B384A" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3C21F8F2-094D-4177-8351-E77A676B384A">From “Device Resources” field, select <strong class="+ topic/ph hi-d/b ph b">+ BLE Stack</strong> component, to
                            add it in project graph.<ol class="- topic/ol ol" type="i" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-35395AD2-E86D-44A6-A23A-2DF40EF52D2E" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-35395AD2-E86D-44A6-A23A-2DF40EF52D2E">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9270FFAD-29A3-4C97-8C26-1DE59883BA2F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9270FFAD-29A3-4C97-8C26-1DE59883BA2F">BLE Stack component<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DE2A4F84-8F6D-4229-A3B2-47B33636DFEB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DE2A4F84-8F6D-4229-A3B2-47B33636DFEB"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-13. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0E3720F5-0ED5-44CD-8F16-14CEFFB3E854" class="fig--title">BLE Stack Component</span></span></figcaption>
                                        
                                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-778B6873-1921-4D03-83E6-A8FE89EC3EF6-high.svg"/></div></div>
                                    </figure></li>
                            </ol></li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3D342ED4-AC03-44DC-A771-AE44467AC1F1" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3D342ED4-AC03-44DC-A771-AE44467AC1F1">From “Device Resources” field, select <strong class="+ topic/ph hi-d/b ph b">Transparent service and
                                profile</strong> components, to add it in project graph.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AF4FE026-CC5A-4289-8723-DC0E66B2D84E" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AF4FE026-CC5A-4289-8723-DC0E66B2D84E"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-14. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C2760970-7622-4B69-B985-CA8AA9E24672" class="fig--title">Transparent Service and Profile</span></span></figcaption>
                                
                                <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-8D2C2675-E041-4EF9-99C3-6D7573161455-high.svg"/></div></div>
                            </figure></li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A6F6AE4E-8A38-488D-BB06-2EF2FDD672A7" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A6F6AE4E-8A38-488D-BB06-2EF2FDD672A7">Add <strong class="+ topic/ph hi-d/b ph b">UART</strong> component needed for console logs and commands. Right
                            click on the yellow triangle on <strong class="+ topic/ph hi-d/b ph b">+ onoff Light</strong> component to add
                            satisfiers as illustrated below. Verify the UART SERCOM configuration as
                            in <a class="- topic/xref xref" href="GUID-BA19A3F8-CCEB-44C2-B5BF-C203DD6A8D41.html">Zigbee Console Commands</a><figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B68714EB-A1BB-4D26-A237-B9DB7AEE1A25" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B68714EB-A1BB-4D26-A237-B9DB7AEE1A25"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-15. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2BB61934-869D-4577-B0FC-38CD18DB2725" class="fig--title">SERCOM0</span></span></figcaption>
                                
                                <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-CC1DB705-5389-4208-B6FF-12FF724C251A-high.svg"/></div></div>
                            </figure></li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B3249182-C01D-4DFD-9FC8-5461045645CD" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B3249182-C01D-4DFD-9FC8-5461045645CD">From “Device Resources” field, select <strong class="+ topic/ph hi-d/b ph b">+ TCC2</strong> component, to add it
                            in project graph.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FD7CFA6F-E1BE-45F4-9D0B-36550A5EA5EC" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FD7CFA6F-E1BE-45F4-9D0B-36550A5EA5EC"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-16. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-FFBE7472-0F56-4B1A-8E0A-CA34D6CE95DB" class="fig--title">TCC2</span></span></figcaption>
                                
                                <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-781A6157-50A9-4BD4-AE06-D27998A5721E-high.svg"/></div></div>
                            </figure></li>
                    </ol></li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-08BE2D51-C9AD-4AB9-83A1-14B35067CAA4" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-08BE2D51-C9AD-4AB9-83A1-14B35067CAA4">Verify if the project graph window has all the expected components. as
                    illustrated in the following figure:<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3A2BE00F-5625-427E-A64B-37207301D8F0" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3A2BE00F-5625-427E-A64B-37207301D8F0"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-17. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-43558475-C4FD-430D-8541-CB9BA1A43777" class="fig--title">Project Graph</span></span></figcaption>
                        
                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-E278E92A-12B5-43C1-8794-EB1CC7DEEB2E-high.svg"/></div></div>
                    </figure></li>
            </ol>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-BLE-STACK-SPECIFIC-CONFIGURATIONS" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-BLE-STACK-SPECIFIC-CONFIGURATIONS"><h2 class="- topic/title title sectiontitle">Edit BLE Stack Specific
                Configurations</h2>
            
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-788FD63A-8CDB-4576-9156-0273D02E4C1B" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-788FD63A-8CDB-4576-9156-0273D02E4C1B">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0CE1D242-F3D4-484B-AB7F-D59F87C90895" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0CE1D242-F3D4-484B-AB7F-D59F87C90895">
                    <p class="- topic/p p">Select <strong class="+ topic/ph hi-d/b ph b">BLE Stack</strong> component in project graph, to open component
                        configuration and configure as illustrated in the following figure</p>
                    <figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6DA542F0-2A62-4DE0-8605-2CAE4F141ABB" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6DA542F0-2A62-4DE0-8605-2CAE4F141ABB"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-18. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F27A7287-C32B-4BAF-AA6F-00A79F397D41" class="fig--title">BLE Stack
                            Configuration</span></span></figcaption>
                        
                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-945849BC-B9C9-4B44-9C0E-4DE7E2D55CE0-high.svg"/></div></div>
                    </figure>
                </li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E23CBA9A-5399-4E14-B78F-F33F2F7D2698" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E23CBA9A-5399-4E14-B78F-F33F2F7D2698">
                    <p class="- topic/p p">Select <strong class="+ topic/ph hi-d/b ph b">Transparent Profile</strong> component in project graph, to open
                        component configuration and configure as illustrated in the following
                        figure</p>
                    <figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-163E8107-289D-4850-950D-74011D8626A8" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-163E8107-289D-4850-950D-74011D8626A8"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-19. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1DB14E1E-6CB3-4633-8430-2278F3CAA510" class="fig--title">Transparent Profile Configuration</span></span></figcaption>
                        
                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-42FA2FC5-4951-4B5A-8DE1-CA4C0E46A9B5-high.svg"/></div></div>
                    </figure>
                </li>
            </ol>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-ZIGBEE-STACK-SPECIFIC-CONFIGURATIONS" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-ZIGBEE-STACK-SPECIFIC-CONFIGURATIONS"><h2 class="- topic/title title sectiontitle">Edit Zigbee Stack Specific
                Configurations</h2>
            
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7CE29208-8251-42EF-89C8-088160F0D311" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7CE29208-8251-42EF-89C8-088160F0D311">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-49D770C8-2005-440E-A0AD-5EA81B9140DC" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-49D770C8-2005-440E-A0AD-5EA81B9140DC">
                    <div class="- topic/p p">Select <strong class="+ topic/ph hi-d/b ph b">Onoff Light</strong> component in project graph, to open component
                        configuration and configure as illustrated in the following figure<ol class="- topic/ol ol" type="a" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F9FD0048-5353-4E68-AC46-A8F549056076" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F9FD0048-5353-4E68-AC46-A8F549056076">
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-054C4B9F-DDC8-4E90-B74E-5D0E72DD77AE" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-054C4B9F-DDC8-4E90-B74E-5D0E72DD77AE">The "Commissioning Configuration" is edited to enable only Steering
                                option</li>
                        </ol></div>
                    <figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A9546A79-A0BA-45CC-87E6-3AB3CB6508A2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A9546A79-A0BA-45CC-87E6-3AB3CB6508A2"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-20. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5F35761D-8958-4C8B-BE16-F8090B11EC78" class="fig--title">Onoff Light Configuration</span></span></figcaption>
                        
                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-B05CF1CE-C8A1-4DBA-B68C-2C99D885628C-high.svg"/></div></div>
                    </figure>
                </li>
            </ol>
        </section>
        <section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-90210A82-1F79-4D16-9CF9-D0A48B58F0A7" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-90210A82-1F79-4D16-9CF9-D0A48B58F0A7"><h2 class="- topic/title title sectiontitle">Edit PDS_SubSystem Specific Configurations</h2>
            
            <div class="- topic/p p">
                <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-42DBC9D1-9AFE-461B-B021-6BB748751DE1" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-42DBC9D1-9AFE-461B-B021-6BB748751DE1">
                    <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0472E230-A97A-44EF-A6EF-006AD9B5CC99" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0472E230-A97A-44EF-A6EF-006AD9B5CC99">Select <strong class="+ topic/ph hi-d/b ph b">PDS_SubSystem</strong> component in project graph, to open component
                        configuration and configure as illustrated in the following figure<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9D4EB9C3-B8F9-4FCB-B5F9-27A167FCD59F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9D4EB9C3-B8F9-4FCB-B5F9-27A167FCD59F"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-21. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E482603D-35FD-44DD-A7B8-92596C8E0A73" class="fig--title">PDS_SubSystem Configuration</span></span></figcaption>
                            
                            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-8E408C42-107D-4A86-9EAB-CA3DBDEC113D-high.svg"/></div></div>
                        </figure></li>
                </ol>
            </div>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-PERIPHERAL-SPECIFIC-CONFIGURATIONS" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-PERIPHERAL-SPECIFIC-CONFIGURATIONS"><h2 class="- topic/title title sectiontitle">Edit Peripheral Specific
                Configurations</h2>
            
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-8C13B235-F1BE-4CB3-8A87-32B3A1083952" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-8C13B235-F1BE-4CB3-8A87-32B3A1083952">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-78A6B15B-DD39-474D-AABE-6AEB1AD1FB9F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-78A6B15B-DD39-474D-AABE-6AEB1AD1FB9F">Select <strong class="+ topic/ph hi-d/b ph b">SERCOM0</strong> component in project graph, to open component
                    configuration and configure as illustrated in the following figure<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-962C55DB-DF6F-47B7-B4E6-7C1236015326" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-962C55DB-DF6F-47B7-B4E6-7C1236015326"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-22. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5E409AC5-254F-4F86-88A5-27269C92F200" class="fig--title">SERCOM0 Configuration</span></span></figcaption>
                        
                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-14FEFF62-169C-42B6-9487-9EC9763D67A5-high.svg"/></div></div>
                    </figure></li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-834BF7CF-AC6D-4A24-B15B-E216AE0FF122" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-834BF7CF-AC6D-4A24-B15B-E216AE0FF122">Edit <strong class="+ topic/ph hi-d/b ph b">Pin Configuration</strong> in project graph, for RED LED GPIO configuration,
                    as illustrated in the following figure<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1F5EC64C-794B-4BB5-8AA9-166088363BBE" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1F5EC64C-794B-4BB5-8AA9-166088363BBE"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-23. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C3D4F99F-11FB-46B6-8F05-D5D0F418386B" class="fig--title">Pin Configuration</span></span></figcaption>
                        
                        <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-F5FC0D78-796E-4D1F-9FFF-A677D7BEB857-high.svg"/></div></div>
                    </figure></li>
            </ol>
        </section>
        <section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GENERATE-CODE-LINK-FOR-INSTRUCTIONS" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GENERATE-CODE-LINK-FOR-INSTRUCTIONS"><h2 class="- topic/title title sectiontitle">Generating a Code</h2>
            
            <p class="- topic/p p"> For more details on code generation, refer to the <a class="- topic/xref xref" href="GUID-9C28F407-4879-4174-9963-2CF34161398E.html"><span><span>15.2 </span><span>MPLAB Code Configurator(MCC) Code Generation</span></span></a> section.</p>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__FILES-AND-ROUTINES-AUTOMATICALLY-GENERATED-BY-THE-MHC" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__FILES-AND-ROUTINES-AUTOMATICALLY-GENERATED-BY-THE-MHC"><h2 class="- topic/title title sectiontitle">Files and Routines Automatically
                Generated by the MCC</h2>
            
            <div class="- topic/p p">After generating the code from MCC interface by clicking Generate Code, below is the
                project folder structure.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EED87839-7B74-4E41-AFC5-3781BBE273D2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EED87839-7B74-4E41-AFC5-3781BBE273D2"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-24. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DFD10BDC-E5F5-484B-B419-9277CA230E4E" class="fig--title">Project Files</span></span></figcaption>
                    
                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-4956F44C-7B72-4A45-91AC-9635546A6621-high.svg"/></div></div>
                </figure></div>
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">BLE, Zigbee Stack Initialization and Application Callback Registration:</strong></p>
            <p class="- topic/p p">The RF System, BLE System, ZIGBEE, PERIPHERAL initialization routine executed during
                program initialization can be found in <code class="+ topic/ph pr-d/codeph ph codeph">SYS_Initialize()</code> of
                    <code class="+ topic/ph pr-d/codeph ph codeph">initialization.c</code> file.</p>
            <div class="- topic/p p">Zigbee stack provides various APIs for application, and those APIs belong to the
                specific module within dedicated group. The sequence of initialization is already
                taken care in the stack when <code class="+ topic/ph pr-d/codeph ph codeph">Zigbee_Init()</code> from
                    <code class="+ topic/ph pr-d/codeph ph codeph">initialization.c</code> is called.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6EB24791-A13F-40FA-A3D5-5A47674DFD8D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-6EB24791-A13F-40FA-A3D5-5A47674DFD8D"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-25. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D3792A13-8B47-4AE3-9A17-C4F02212D573" class="fig--title"><code class="+ topic/ph pr-d/codeph ph codeph">initialization.c</code></span></span></figcaption>
                    
                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-55446395-81B1-4EC3-AA67-DF2A75F04B10-high.svg"/></div></div>
                </figure></div>
            <p class="- topic/p p">The BLE stack initialization routine executed during application initialization can
                be found in <code class="+ topic/ph pr-d/codeph ph codeph">APP_BleStackInit()</code> in <code class="+ topic/ph pr-d/codeph ph codeph">app.c</code>. This call
                initializes and configures different BLE layers like GAP, GATT, SMP, L2CAP and BLE
                middleware layers and registers the application layer callbacks. The event callbacks
                from BLE stack, BLE middleware and profile/service layer are registered.</p>
            <div class="- topic/p p">Also, the MCC configured advertisement data payload can be seen in
                    <code class="+ topic/ph pr-d/codeph ph codeph">APP_BleConfigBasic()</code><figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9F2EA572-0CB4-4D1D-80BA-1D90D9795B4D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9F2EA572-0CB4-4D1D-80BA-1D90D9795B4D"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-26. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2B480993-079F-459D-9570-8CD7038CA5C5" class="fig--title"><code class="+ topic/ph pr-d/codeph ph codeph">APP_BleConfigBasic()</code></span></span></figcaption>
                    
                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-44D9A536-519E-4EDB-9BBA-46E4A9484C42-high.svg"/></div></div>
                </figure></div>
            <div class="- topic/p p">Similar to BLE, Zigbee stack also generate events to inform application if there is
                any status changed or activity. Application may need to get the relevant information
                from Zigbee Stack and do the corresponding procedure.<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1CC3F4EC-B99C-48A7-9463-B48F6B465636" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-1CC3F4EC-B99C-48A7-9463-B48F6B465636"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-27. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2AC6BD5F-4E2D-48C1-8D62-847D1E3E6521" class="fig--title"><code class="+ topic/ph pr-d/codeph ph codeph">app.c</code></span></span></figcaption>
                    
                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-B4AE8E2D-BC63-4720-90EA-14B7AF2C419A-high.svg"/></div></div>
                </figure></div>
            <div class="- topic/p p">BLE, Zigbee stack application events handling: <code class="+ topic/ph pr-d/codeph ph codeph">app.c</code> file is
                autogenerated and has a state machine for application callback handling from BLE,
                Zigbee stacks<figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-26674573-A769-468D-B5BC-175737E1F05D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-26674573-A769-468D-B5BC-175737E1F05D"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-28. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3EA0117A-C3B1-4888-8ABF-57702CA0AAF2" class="fig--title"><code class="+ topic/ph pr-d/codeph ph codeph">app.c</code></span></span></figcaption>
                    
                    <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-20581BD9-D662-4995-9828-C0C42A937D33-high.svg"/></div></div>
                </figure></div>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__USER-APPLICATION-DEVELOPMENT" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__USER-APPLICATION-DEVELOPMENT"><h2 class="- topic/title title sectiontitle">User Application
                Development</h2>
            
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Compile MCC Auto-generated Project</strong></p>
            <p class="- topic/p p">Build Project, upon building project user action is required as mentioned <a class="- topic/xref xref" href="GUID-99583057-8B1A-42F2-84E8-CFC7717FA5D1.html">User
                    Action</a>.</p>
            <ol class="- topic/ol ol" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5551424C-BAA3-4081-9900-B08E4CEFD0AA" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5551424C-BAA3-4081-9900-B08E4CEFD0AA">
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-956FE11E-02BA-4096-8B53-4939B3C3C4E4" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-956FE11E-02BA-4096-8B53-4939B3C3C4E4"><strong class="+ topic/ph hi-d/b ph b">BLE Specific Code Addition</strong><ol class="- topic/ol ol" type="a" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EC7CDACD-6117-4935-B4C3-88DAA7C71D3F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EC7CDACD-6117-4935-B4C3-88DAA7C71D3F">
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-41C495C1-74C1-472E-A890-9B5F68FF715F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-41C495C1-74C1-472E-A890-9B5F68FF715F"><strong class="+ topic/ph hi-d/b ph b">Start Advertisement (<code class="+ topic/ph pr-d/codeph ph codeph">app.c</code>)</strong><p class="- topic/p p">Advertisement
                                payload is already auto generated based on MCC configuration as
                                mentioned in Edit BLE Stack Specific Configurations. It is only
                                required to start the advertisement, by adding the below API in
                                    <code class="+ topic/ph pr-d/codeph ph codeph">APP_STATE_INIT</code>
                                    state.</p><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">BLE_GAP_SetAdvEnable(true,
                            0);</code></p><pre class="+ topic/pre pr-d/codeblock pre codeblock json">void APP_Tasks ( void )
{
    APP_Msg_T    appMsg[<span class="hl-number">1</span>];
    APP_Msg_T   *p_appMsg;
    p_appMsg=appMsg;

    ZB_AppGenericCallbackParam_t cb;
    <em class="hl-comment">/* Check the application's current state. */</em>
    switch ( appData.state )
    {
        <em class="hl-comment">/* Application's initial state. */</em>
        case APP_STATE_INIT:
        {
            bool appInitialized = true;
            <em class="hl-comment">//appData.appQueue = xQueueCreate( 10, sizeof(APP_Msg_T) );</em>
            APP_BleStackInit();
            BLE_GAP_SetAdvEnable(true, <span class="hl-number">0</span>);</pre></li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AE5BFC1B-6EA3-4AE1-829F-C30F1CE17814" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-AE5BFC1B-6EA3-4AE1-829F-C30F1CE17814"><strong class="+ topic/ph hi-d/b ph b">Connected and Disconnected Events
                                (<code class="+ topic/ph pr-d/codeph ph codeph">app_ble_handler.c</code>)</strong><p class="- topic/p p">The BLE application
                                specific callbacks from BLE stack is handled in
                                    <code class="+ topic/ph pr-d/codeph ph codeph">app_ble_handler.c</code> file. Few events needed for
                                this application to be handled by the user code as below.</p><ol class="- topic/ol ol" type="i" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-716A2C92-E3FA-401A-B711-9204C5367DD2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-716A2C92-E3FA-401A-B711-9204C5367DD2">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-248DCDC7-A7AE-469B-8849-95C4DB55F571" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-248DCDC7-A7AE-469B-8849-95C4DB55F571">
                                    <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Connection Handler</strong></p>
                                    <ul class="- topic/ul ul">
                                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9ED43873-987E-48D0-87D4-7C44150C7863" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-9ED43873-987E-48D0-87D4-7C44150C7863">
                                            <p class="- topic/p p">In <code class="+ topic/ph pr-d/codeph ph codeph">app_ble_handler.c</code>,
                                                  <code class="+ topic/ph pr-d/codeph ph codeph">BLE_GAP_EVT_CONNECTED</code> event will
                                                be generated when a BLE peripheral is connected with
                                                Central (mobile app)</p>
                                        </li>
                                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CA6EF885-EB50-469E-B13B-BE08662B616E" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-CA6EF885-EB50-469E-B13B-BE08662B616E">
                                            <p class="- topic/p p">Connection handle associated with the peer central
                                                device needs to be saved for data exchange after a
                                                BLE connection. Add the below code in<code class="+ topic/ph pr-d/codeph ph codeph">
                                                  APP_BleGapEvtHandler()</code>.</p>
                                        </li>
                                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-BA2698C8-04CA-4171-A2E4-621D9C94A59C" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-BA2698C8-04CA-4171-A2E4-621D9C94A59C">
                                            <p class="- topic/p p">Console log is also added to print the connected
                                                message and respective<code class="+ topic/ph pr-d/codeph ph codeph"> #include</code>
                                                file is also added.</p>
                                            <pre class="+ topic/pre pr-d/codeblock pre codeblock json">#include &lt;app_zigbee/zigbee_console/console.h&gt;

void APP_BleGapEvtHandler(BLE_GAP_Event_T *p_event)
{
    switch(p_event-&gt;eventId)
    {
        case BLE_GAP_EVT_CONNECTED:
        {
            <em class="hl-comment">/* TODO: implement your application code.*/</em>
            appSnprintf(<span class="hl-string">"[BLE} Connected\n\r"</span>);
            conn_hdl = p_event-&gt;eventField.evtConnect.connHandle;
            linkState = APP_BLE_STATE_CONNECTED;
        }
        break;</pre>
                                            <p class="- topic/p p">In <strong class="+ topic/ph hi-d/b ph b">app_ble_handler.h</strong> add the below definitions
                                                which are used in above step</p>
                                            <pre class="+ topic/pre pr-d/codeblock pre codeblock json"><em class="hl-comment">// *****************************************************************************</em>
<em class="hl-comment">// *****************************************************************************</em>
<em class="hl-comment">// Section: Type Definitions</em>
<em class="hl-comment">// *****************************************************************************</em>
<em class="hl-comment">// *****************************************************************************</em>
uint16_t conn_hdl;
uint8_t linkState;

#define APP_BLE_STATE_CONNECTED <span class="hl-number">0x01</span>
#define APP_BLE_STATE_STANDBY  <span class="hl-number">0x00</span></pre>
                                        </li>
                                    </ul>
                                </li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3994DCDA-EE37-41C8-BB58-AAF4DEBC95B2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-3994DCDA-EE37-41C8-BB58-AAF4DEBC95B2"><strong class="+ topic/ph hi-d/b ph b">Disconnection Handler</strong><ul class="- topic/ul ul">
                                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2881040D-2991-4BCD-9869-6823A295619D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2881040D-2991-4BCD-9869-6823A295619D">
                                            <p class="- topic/p p">In <code class="+ topic/ph pr-d/codeph ph codeph">app_ble_handler.c</code>,
                                                  <code class="+ topic/ph pr-d/codeph ph codeph">BLE_GAP_EVT_DISCONNECTED</code> event
                                                will be generated when BLE peripheral is
                                                disconnected from Central (mobile app)</p>
                                        </li>
                                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D3C6D6EF-574C-41E8-827D-56C5B3114460" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D3C6D6EF-574C-41E8-827D-56C5B3114460">Advertisement can be started again to enable another
                                            connection</li>
                                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C7CDF190-34B1-436C-BEFD-B91342DBB011" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C7CDF190-34B1-436C-BEFD-B91342DBB011">Console log is also added to print the disconnected
                                            message<pre class="+ topic/pre pr-d/codeblock pre codeblock json">case BLE_GAP_EVT_DISCONNECTED:
{
    <em class="hl-comment">/* TODO: implement your application code.*/</em>
    appSnprintf(<span class="hl-string">"[BLE} DisConnected\n\r"</span>);
    BLE_GAP_SetAdvEnable(true, <span class="hl-number">0</span>);
    linkState = APP_BLE_STATE_STANDBY;               
}
break;</pre></li>
                                    </ul></li>
                            </ol></li>
                    </ol></li>
                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7D67BB15-D301-442B-9095-554331A61BFF" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-7D67BB15-D301-442B-9095-554331A61BFF">
                    <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Zigbee Specific Code Addition
                        (<code class="+ topic/ph pr-d/codeph ph codeph">app_zigbee_handler.c</code>)</strong></p>
                    <div class="- topic/p p">There will be three major events which the stack would provide to the user
                        application in <code class="+ topic/ph pr-d/codeph ph codeph">app_zigbee_handler.c</code> file. They are:<ul class="- topic/ul ul">
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EAE31AAE-0F6B-4050-9513-414F7071770C" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EAE31AAE-0F6B-4050-9513-414F7071770C">Zigbee Events which is defined as
                                "<code class="+ topic/ph pr-d/codeph ph codeph">EVENT_ZIGBEE</code>"</li>
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E4ED9CD9-2F98-46A2-BED3-AE824FCFCAC6" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E4ED9CD9-2F98-46A2-BED3-AE824FCFCAC6">ZCL and Cluster Events defined as
                                "<code class="+ topic/ph pr-d/codeph ph codeph">EVENT_CLUSTER</code>"</li>
                            <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-59ACB48D-0001-4362-8D6D-35B20BBB7168" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-59ACB48D-0001-4362-8D6D-35B20BBB7168">Board Specific
                                Package (BSP) Events defined as "<code class="+ topic/ph pr-d/codeph ph codeph">EVENT_BSP</code>"</li>
                        </ul></div>
                    <ol class="- topic/ol ol" type="a" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-549EF59A-85E8-42B6-9EF4-00525847EBC2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-549EF59A-85E8-42B6-9EF4-00525847EBC2">
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-61512BC8-CF4D-44E5-9F82-CECD56B09C5C" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-61512BC8-CF4D-44E5-9F82-CECD56B09C5C"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">ZCL EVENT_CLUSTER event handling for on/off Light cluster</strong></p><p class="- topic/p p">
                                <strong class="+ topic/ph hi-d/b ph b">ZCL (Zigbee cluster library)</strong></p><ul class="- topic/ul ul">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B91FA471-D1F0-4BC7-89C1-C065AEA060ED" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B91FA471-D1F0-4BC7-89C1-C065AEA060ED">ZCL is a
                                    repository for cluster functionalities</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5249A33F-0171-46F3-A678-67DB0F674462" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5249A33F-0171-46F3-A678-67DB0F674462">Regularly updated
                                    with new functionality added</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A55B4679-1525-4DBF-8D4C-DC1C9CE9305E" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A55B4679-1525-4DBF-8D4C-DC1C9CE9305E">Not to “re-invent
                                    the wheel” for new application development</li>
                            </ul><p class="- topic/p p">
                                <strong class="+ topic/ph hi-d/b ph b">Cluster</strong></p><ul class="- topic/ul ul">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C53A6D88-AFEB-433B-9DAE-BC6543621FEF" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-C53A6D88-AFEB-433B-9DAE-BC6543621FEF">Cluster is a set
                                    of attributes and commands which are defined for a particular
                                    application functionality/feature.</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A1F70403-3BFB-414F-A2BF-8C2AE90CC520" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-A1F70403-3BFB-414F-A2BF-8C2AE90CC520">Attributes and
                                    their data types are defined</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EAFB96ED-BB4D-4E41-B58D-3F0353E34CDC" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EAFB96ED-BB4D-4E41-B58D-3F0353E34CDC">Uses
                                    client/server model of communication</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EE291F03-02D1-47D9-9C90-2BB3AEF6CCE7" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EE291F03-02D1-47D9-9C90-2BB3AEF6CCE7">Standard
                                    commands/messages ensure interoperability, abstracts the
                                    commands for developers.</li>
                            </ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">For example: On/Off cluster</strong>
                            </p><p class="- topic/p p">Attributes: OnOff, OnTime, OffWaitTime </p><p class="- topic/p p">Commands: Off, On,
                                Toggle, OffWithEffect, OnWithRecallGlobalScene,
                                OnWithTimedOff</p><span class="- topic/ph ph icon icon-search inline-block highlight-info">
                                <em class="+ topic/ph hi-d/i ph i">-Explore</em>
                            </span><p class="- topic/p p">For more details regarding clusters, refer to the specification
                                from Zigbee Alliance <a class="- topic/xref xref" href="https://zigbeealliance.org/wp-content/uploads/2019/12/07-5123-06-zigbee-cluster-library-specification.pdf" target="_blank" rel="external noopener">Zigbee Cluster Library Specification by Zigbee
                                    Alliance</a></p><p class="- topic/p p">This project uses ON/OFF device type.
                                Hence uses <strong class="+ topic/ph hi-d/b ph b">On/Off light cluster</strong> from Zigbee defined cluster
                                library. When the ON/OFF command to control the light is received
                                from CI Gateway, <code class="+ topic/ph pr-d/codeph ph codeph">CMD_ZCL_ON</code>, <code class="+ topic/ph pr-d/codeph ph codeph">CMD_ZCL_OFF of
                                    ZCL EVENT_CLUSTER</code> will be received on light device. A
                                simple console print is already added in those event callbacks as
                                below.</p><pre class="+ topic/pre pr-d/codeblock pre codeblock json">void Cluster_Event_Handler(APP_Zigbee_Event_t event)
{
    switch(event.eventId)
    {
        case CMD_ZCL_ON:
        {
            <em class="hl-comment">/* ZCL Command ON received */</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.addressing;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payloadLength;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payload;</em>
            appSnprintf(<span class="hl-string">"On\r\n"</span>);
            uint8_t onCmd;
            onCmd = <span class="hl-number">0x01</span>;
            
            if(linkState == APP_BLE_STATE_CONNECTED)
                BLE_TRSPS_SendVendorCommand(conn_hdl, <span class="hl-number">0x8F</span>, <span class="hl-number">0x01</span>, &amp;onCmd);            
        }
        break;
        case CMD_ZCL_OFF:
        {
            <em class="hl-comment">/* ZCL Command Off received */</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.addressing;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payloadLength;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payload;</em>
            appSnprintf(<span class="hl-string">"Off\r\n"</span>);
            uint8_t offCmd;
            offCmd = <span class="hl-number">0x00</span>;
            
            if(linkState == APP_BLE_STATE_CONNECTED)
                BLE_TRSPS_SendVendorCommand(conn_hdl, <span class="hl-number">0x8F</span>, <span class="hl-number">0x01</span>, &amp;offCmd);             
        }
        break;</pre></li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D45E854C-3A13-424D-89C2-B7BAD1B7B68F" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-D45E854C-3A13-424D-89C2-B7BAD1B7B68F">
                            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b"><code class="+ topic/ph pr-d/codeph ph codeph">EVENT_BSP</code> Event Handling for ON/OFF Light
                                    Control</strong></p>
                            <ul class="- topic/ul ul">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0BFADC1A-6FE4-4149-B55A-18C514F4D3ED" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-0BFADC1A-6FE4-4149-B55A-18C514F4D3ED">
                                    <p class="- topic/p p">In addition to above ZCL event, BSP event will also be called
                                        when ON/OFF command is received. This will enable the user
                                        to write the board specific functionality code like switch
                                        ON/OFF the on board LED. <code class="+ topic/ph pr-d/codeph ph codeph">CMD_LED_BRIGHTNESS</code>
                                        single event is called for both ON or OFF, since On/Off
                                        cluster is added in many other device types like dimmable
                                        light, color control light, where light functionality is
                                        also mapped to brightness/color and not simple ON/OFF. Add
                                        below code to control on board <strong class="+ topic/ph hi-d/b ph b">RED</strong> LED.</p>
                                    <pre class="+ topic/pre pr-d/codeblock pre codeblock json">void BSP_Event_Handler(APP_Zigbee_Event_t event)
{
    <em class="hl-comment">// User to handle  board Support package events</em>
    switch(event.eventId)
    {
        case CMD_LED_BRIGHTNESS:
        {
            <em class="hl-comment">/* Set the given LED brightness */</em>
            <em class="hl-comment">//Access - &gt; event.eventData.value;</em>
            <em class="hl-comment">//appSnprintf("Led Brightness \r\n");</em>
            if(event.eventData.value == <span class="hl-number">255</span>)<em class="hl-comment">// MAX_BRIGHTNESS_LEVEL for On</em>
               RED_LED_Set();
            else if (event.eventData.value == <span class="hl-number">0</span>) <em class="hl-comment">//MIN_BRIGHTNESS_LEVEL for Off</em>
               RED_LED_Clear();
                
        }
        break;</pre>
                                </li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5066B52D-5DE0-45F4-A70C-EC215C00C5DE" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-5066B52D-5DE0-45F4-A70C-EC215C00C5DE">
                                    <p class="- topic/p p">Add the include file needed for LED GPIO functionality in
                                            <code class="+ topic/ph pr-d/codeph ph codeph">app_zigbee_handler.c</code></p>
                                    <pre class="+ topic/pre pr-d/codeblock pre codeblock json">#include <span class="hl-string">"peripheral/gpio/plib_gpio.h"</span></pre>
                                </li>
                            </ul>
                        </li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-479083DE-03B1-49D5-B924-01D5E4D8ECB6" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-479083DE-03B1-49D5-B924-01D5E4D8ECB6">
                            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Edit Device Unique ID
                                    (<code class="+ topic/ph pr-d/codeph ph codeph">zigbeeAppDeviceSelect.h</code>)</strong></p>
                            <p class="- topic/p p">All the zigbee devices/modules will hold their unique IEEE address
                                purchased from IEEE. For the demo purpose, where UID is not present
                                in internal NVM, the pre-compiled fixed UID to be used. Edit the
                                    <code class="+ topic/ph pr-d/codeph ph codeph">CS_UID</code> to user defined value and not matching
                                with combined interface UID (default <code class="+ topic/ph pr-d/codeph ph codeph">0xbee</code>) as
                                below in <code class="+ topic/ph pr-d/codeph ph codeph">zigbeeAppDeviceSelect.h</code></p>
                            <figure class="- topic/fig fig fignone" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F6B41644-0021-4295-A3D3-9516D825C7D4" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-F6B41644-0021-4295-A3D3-9516D825C7D4"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 5-29. <span id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-4AD1D6FC-03C6-43E8-8151-F88FCEBC04BE" class="fig--title"><code class="+ topic/ph pr-d/codeph ph codeph">zigbeeAppDeviceSelect.h</code></span></span></figcaption>
                                
                                <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" src="GUID-3D4BB4D2-C3EB-4622-9441-0472325D988D-high.svg"/></div></div>
                            </figure>
                        </li>
                        <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-01DBF3F3-31A2-4E5B-B216-2834B1555C71" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-01DBF3F3-31A2-4E5B-B216-2834B1555C71">
                            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Data Transaction Between BLE to Zigbee Protocol and Vice
                                Versa</strong></p>
                            <div class="- topic/p p">Transparent Profile and Service (TRP/TRS) is the proprietary BLE
                                service by microchip to establish data and control channel between
                                BLE Central (Phone) and Peripheral (device). The custom 128-bit GATT
                                characteristics are defined under this service.<div class="table-container"><table class="- topic/table table" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426" data-cols="3"><caption class="- topic/title title tablecap" data-caption-side="top" data-is-repeated="true"><span class="table--title-label"><span class="table--title-label">Table 5-2. </span></span><span class="table--title" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E3D04CC1-E28C-4B34-BA77-1DC62A01513F">Definition of Transparent Service and Characteristics
                                        UUID's</span></caption><colgroup><col/><col/><col/></colgroup><thead class="- topic/thead thead">
                                            <tr class="- topic/row">
                                                <th class="- topic/entry entry colsep-0 rowsep-0" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">Characteristic Name</th>
                                                <th class="- topic/entry entry colsep-0 rowsep-0" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">UUID</th>
                                                <th class="- topic/entry entry colsep-0 rowsep-0" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">Properties</th>
                                            </tr>
                                        </thead><tbody class="- topic/tbody tbody">
                                            <tr class="- topic/row">
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">TRS Service</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">49535343-FE7D-4AE5-8FA9-9FAFD205E455</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">—</td>
                                            </tr>
                                            <tr class="- topic/row">
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">TRS TxD- Tx Data to Client role (Data
                                                  pipe)</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">49535343-1E4D-4BD9-BA61-23C647249616</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">Notify, Write</td>
                                            </tr>
                                            <tr class="- topic/row">
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">TRS TxD - Client Characteristic Configuration
                                                  Descriptor</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">—</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">Read, Write</td>
                                            </tr>
                                            <tr class="- topic/row">
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">TRS RxD- Rx Data from Client role (Data
                                                  pipe)</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">49535343-8841-43F4-A8D4-ECBE34729BB3</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">Write, Write without response</td>
                                            </tr>
                                            <tr class="- topic/row">
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">TRS Ctrl Pt - Command and Response (Ctrl
                                                  pipe)</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">49535343-4C8A-39B3-2F49-511CFF073B7E</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">Notify, Write, Write without response</td>
                                            </tr>
                                            <tr class="- topic/row">
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__1">TRS Ctrl Pt - Client Characteristic
                                                  Configuration descriptor</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__2">—</td>
                                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-51677772-4EC3-45C7-AE0C-AE67E67AE426__entry__3">Read, Write</td>
                                            </tr>
                                        </tbody></table></div></div>
                            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Send Data over BLE (<code class="+ topic/ph pr-d/codeph ph codeph">app_zigbee_handler.c</code>)</strong></p>
                            <p class="- topic/p p">When the On/Off command is received from CI, send single byte of data
                                to mobile app using Transparent service. We use TRS Ctrl Pt
                                characteristic in this example project to send and receive data from
                                mobile app.</p>
                            <ul class="- topic/ul ul">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E4452AAC-C9D3-4245-89AD-E8B51B4375B1" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-E4452AAC-C9D3-4245-89AD-E8B51B4375B1">
                                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph"><strong class="+ topic/ph hi-d/b ph b">BLE_TRSPS_SendVendorCommand(conn_hdl, 0x8F, 0x01,
                                                &amp;onCmd)</strong></code> is the API to be used for
                                        sending data towards the central device. Here
                                            <code class="+ topic/ph pr-d/codeph ph codeph">0x8F</code> is any custom command value for
                                        identification and <code class="+ topic/ph pr-d/codeph ph codeph">0x01</code> is length of the
                                        command data. Add this API call in Zigbee On/Off ZCL event
                                        callbacks as below.</p>
                                    <pre class="+ topic/pre pr-d/codeblock pre codeblock json">void Cluster_Event_Handler(APP_Zigbee_Event_t event)
{
    switch(event.eventId)
    {
        case CMD_ZCL_ON:
        {
            <em class="hl-comment">/* ZCL Command ON received */</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.addressing;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payloadLength;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payload;</em>
            appSnprintf(<span class="hl-string">"On\r\n"</span>);
            uint8_t onCmd;
            onCmd = <span class="hl-number">0x01</span>;

            if(linkState == APP_BLE_STATE_CONNECTED)
                BLE_TRSPS_SendVendorCommand(conn_hdl, <span class="hl-number">0x8F</span>, <span class="hl-number">0x01</span>, &amp;onCmd);            
        }
        break;
        case CMD_ZCL_OFF:
        {
            <em class="hl-comment">/* ZCL Command Off received */</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.addressing;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payloadLength;</em>
            <em class="hl-comment">//Access - &gt; event.eventData.zclEventData.payload;</em>
            appSnprintf(<span class="hl-string">"Off\r\n"</span>);
            uint8_t offCmd;
            offCmd = <span class="hl-number">0x00</span>;

            if(linkState == APP_BLE_STATE_CONNECTED)
                BLE_TRSPS_SendVendorCommand(conn_hdl, <span class="hl-number">0x8F</span>, <span class="hl-number">0x01</span>, &amp;offCmd);             
        }
        break;</pre>
                                </li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2CC195B1-1226-43C8-A77F-4B5FCA698F38" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-2CC195B1-1226-43C8-A77F-4B5FCA698F38">
                                    <p class="- topic/p p">Add the include file needed for the above BLE APIs in
                                            <code class="+ topic/ph pr-d/codeph ph codeph">app_zigbee_handler.c</code></p>
                                    <pre class="+ topic/pre pr-d/codeblock pre codeblock json">#include <span class="hl-string">"app_ble_handler.h"</span>
#include <span class="hl-string">"ble/profile_ble/ble_trsps/ble_trsps.h"</span></pre>
                                </li>
                            </ul>
                            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Send Data over Zigbee
                                (<code class="+ topic/ph pr-d/codeph ph codeph">app_trsps_handler.c</code>)</strong></p>
                            <ul class="- topic/ul ul">
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B04867A7-8809-4645-8FA0-4CFC70D3D2D0" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-B04867A7-8809-4645-8FA0-4CFC70D3D2D0">When the On/Off
                                    single byte data is received from mobile app using Transparent
                                    service, change the global variable which holds the On/Off
                                    attribute value.</li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-538F64AC-0E31-461F-818B-18ACA8AEEFCF" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-538F64AC-0E31-461F-818B-18ACA8AEEFCF">On/Off attribute
                                    data is sent periodically at defined MAX interval to CI. When
                                    the On/Off attribute value is changed by BLE, an additional
                                    report will be sent at MIN report interval with the changed
                                    value. The reporting interval is configured in auto generated
                                    Zigbee middleware include file
                                            <em class="+ topic/ph hi-d/i ph i"><u class="+ topic/ph hi-d/u ph u">firmware\src\config\default\zigbee\z3device\light\include\lightOnOffCluster.h
                                        </u></em> (unit in
                                    seconds)<pre class="+ topic/pre pr-d/codeblock pre codeblock json"><em class="hl-comment">/******************************************************************************
                    Definition(s) section
******************************************************************************/</em>
#define ONOFF_VAL_MIN_REPORT_PERIOD <span class="hl-number">30</span>
#define ONOFF_VAL_MAX_REPORT_PERIOD <span class="hl-number">120</span></pre></li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-BB43B20F-AC40-4091-BB0A-A91FE3E13E5D" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-BB43B20F-AC40-4091-BB0A-A91FE3E13E5D">
                                    <p class="- topic/p p">When the non zero value is sent from mobile app using TRPS
                                        Ctrl pt characteristic, the LED is switched ON and for zero
                                        value LED is switched OFF in
                                            <code class="+ topic/ph pr-d/codeph ph codeph">BLE_TRSPS_EVT_VENDOR_CMD</code> event
                                        callback. Add the below code to update the On/Off attribute
                                        value and to change RED LED Status.
                                            <code class="+ topic/ph pr-d/codeph ph codeph">ZCL_ReportOnChangeIfNeeded()</code> API is
                                        called to initiate the additional report at
                                            <code class="+ topic/ph pr-d/codeph ph codeph">ONOFF_VAL_MIN_REPORT_PERIOD</code> interval.
                                            <code class="+ topic/ph pr-d/codeph ph codeph">lightOnOffClusterServerAttributes.onOff</code>
                                        is the global variable defined in Zigbee middleware which
                                        holds the OnOFF attribute value.</p>
                                    <pre class="+ topic/pre pr-d/codeblock pre codeblock json">void APP_TrspsEvtHandler(BLE_TRSPS_Event_T *p_event)
{
    switch(p_event-&gt;eventId)
    {
        case BLE_TRSPS_EVT_VENDOR_CMD:
        {
            <em class="hl-comment">/* TODO: implement your application code.*/</em>
            if(p_event-&gt;eventField.onVendorCmd.length)
            {                 
                if(p_event-&gt;eventField.onVendorCmd.p_payLoad[<span class="hl-number">1</span>])
                {    
                    lightOnOffClusterServerAttributes.onOff.value = <span class="hl-number">1</span>;
                    RED_LED_Set();
                    appSnprintf(<span class="hl-string">"[BLE} On Command\n\r"</span>);                    
                }    
                else
                {    
                    lightOnOffClusterServerAttributes.onOff.value = <span class="hl-number">0</span>;
                    RED_LED_Clear();
                    appSnprintf(<span class="hl-string">"[BLE} Off Command\n\r"</span>);                    
                }                   
                ZCL_ReportOnChangeIfNeeded(&amp;lightOnOffClusterServerAttributes.onOff);
            }    
        }
        break;</pre>
                                </li>
                                <li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EC0801BE-E352-4F7E-8731-93A16D1DBFEF" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-EC0801BE-E352-4F7E-8731-93A16D1DBFEF">
                                    <p class="- topic/p p">Add the include file needed for the above ZIGBEE API and GPIO
                                        in <code class="+ topic/ph pr-d/codeph ph codeph">app_trsps_handler.c</code></p>
                                    <pre class="+ topic/pre pr-d/codeblock pre codeblock json">#include &lt;app_zigbee/zigbee_console/console.h&gt;
#include &lt;z3device/light/include/lightOnOffCluster.h&gt;
#include <span class="hl-string">"peripheral/gpio/plib_gpio.h"</span></pre>
                                    <div class="- topic/note note notype note_notype" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-63EDCC95-CEB1-460B-A775-B57C3A708D79" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-63EDCC95-CEB1-460B-A775-B57C3A708D79"><span class="note__title">Note:</span> The sample project with all the above code changes is
                                        available in <code class="+ topic/ph pr-d/codeph ph codeph">ble_zigbee_basic</code> for your
                                        reference.</div>
                                </li>
                            </ul>
                        </li>
                    </ol>
                </li>
            </ol>
        </section><section class="- topic/section section" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__WHERE-TO-GO-FROM-HERE" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__WHERE-TO-GO-FROM-HERE"><h2 class="- topic/title title sectiontitle">Where to go from Here</h2><ul class="- topic/ul ul"><li class="- topic/li li" id="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-73EEB446-3909-40DC-A5C4-9FA857F7FAE2" data-ofbid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-73EEB446-3909-40DC-A5C4-9FA857F7FAE2"><p class="- topic/p p"><a class="- topic/xref xref" href="GUID-707BAEEE-0EFF-428F-AFEC-C2E6C5E65BA9.html">Advanced Multiprotocol
                            Application with Zigbee Provisioning over BLE</a> by following the
                        similar implementation. The guide also explains the wrapper protocol written
                        on top of BLE Transparent service for BLE provisioning and light control.
                        The On-board RGB colour is controlled in this example, which can be
                        referenced for PWM functionality.</p></li></ul></section></div></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">On this page</div><ul><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__HARDWARE-REQUIRED" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__HARDWARE-REQUIRED">Hardware Requirement</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SDK-SETUP" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SDK-SETUP">SDK Setup</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SOFTWARE" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SOFTWARE">Software Requirement</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SMARTPHONE-APP" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__SMARTPHONE-APP">Smartphone App</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PROGRAMMING-THE-PRECOMPILED-HEX-FILE-OR-APPLICATION-EXAMPLE" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PROGRAMMING-THE-PRECOMPILED-HEX-FILE-OR-APPLICATION-EXAMPLE">Programming the Precompiled Hex
                File or Application Example</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEMO-DESCRIPTION" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEMO-DESCRIPTION">Demo Description</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DBEF62B8-6569-4802-9A1C-57D13F6B8E65" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-DBEF62B8-6569-4802-9A1C-57D13F6B8E65">Testing</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEVELOPING-THIS-APPLICATION-FROM-SCRATCH-USING-MPLAB-CODE-CONFIGURATOR" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__DEVELOPING-THIS-APPLICATION-FROM-SCRATCH-USING-MPLAB-CODE-CONFIGURATOR">Developing the Application from
                Scratch using MCC</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PULL-IN-H3-COMPONENTS" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__PULL-IN-H3-COMPONENTS">Pull-in MCC Components</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-BLE-STACK-SPECIFIC-CONFIGURATIONS" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-BLE-STACK-SPECIFIC-CONFIGURATIONS">Edit BLE Stack Specific
                Configurations</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-ZIGBEE-STACK-SPECIFIC-CONFIGURATIONS" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-ZIGBEE-STACK-SPECIFIC-CONFIGURATIONS">Edit Zigbee Stack Specific
                Configurations</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-90210A82-1F79-4D16-9CF9-D0A48B58F0A7" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GUID-90210A82-1F79-4D16-9CF9-D0A48B58F0A7">Edit PDS_SubSystem Specific Configurations</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-PERIPHERAL-SPECIFIC-CONFIGURATIONS" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__EDIT-PERIPHERAL-SPECIFIC-CONFIGURATIONS">Edit Peripheral Specific
                Configurations</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GENERATE-CODE-LINK-FOR-INSTRUCTIONS" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__GENERATE-CODE-LINK-FOR-INSTRUCTIONS">Generating a Code</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__FILES-AND-ROUTINES-AUTOMATICALLY-GENERATED-BY-THE-MHC" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__FILES-AND-ROUTINES-AUTOMATICALLY-GENERATED-BY-THE-MHC">Files and Routines Automatically
                Generated by the MCC</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__USER-APPLICATION-DEVELOPMENT" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__USER-APPLICATION-DEVELOPMENT">User Application
                Development</a></div></li><li class="section-item"><div class="section-title"><a href="#GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__WHERE-TO-GO-FROM-HERE" data-tocid="GUID-11ABDEE6-3F90-4086-AC19-BB2607CA8064__WHERE-TO-GO-FROM-HERE">Where to go from Here</a></div></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
  
  <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
  <script type="text/javascript" src="mchp-js/prepend.js"></script><!-- Package for viewing PDFs on mobile devices -->
  
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
       
        </body>
</html>