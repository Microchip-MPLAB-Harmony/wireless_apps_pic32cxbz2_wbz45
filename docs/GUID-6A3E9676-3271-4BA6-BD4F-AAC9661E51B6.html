<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Zigbee Application Demo: Light control and Monitoring using Alexa Echo Plus" />
<meta name="DC.relation" scheme="URI" content="GUID-ACC1C69A-65C7-45E5-94FD-81BF5B29E381.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6" />
<meta name="DC.language" content="en-US" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Zigbee Application Demo: Light control and Monitoring using Alexa Echo Plus</title>
<meta name="Microsoft.Help.Id" content="GUID-A5330D3A-9F51-4A26-B71D-8503A493DF9C-GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6" />
<meta name="Microsoft.Help.TocParent" content="GUID-A5330D3A-9F51-4A26-B71D-8503A493DF9C-GUID-ACC1C69A-65C7-45E5-94FD-81BF5B29E381" />
<meta name="Microsoft.Help.TocOrder" content="1" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="Software Development Reference A 09/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6">
<h1 class="title topictitle1" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-7F5F41D2-1B76-4E7D-97DC-C326F44CDA9A" style="">Zigbee Application Demo: Light control and Monitoring using Alexa Echo Plus</h1><div class="body"><div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__WBZ451-CURIOSITY-BOARD"><h2 class="title sectiontitle"><span class="ph">WBZ451</span> Curiosity Board</h2><p class="p">Devices (Device): | <strong class="ph b"><span class="ph">PIC32CX1012BZ25048</span>(MCU) on <span class="ph">WBZ451</span> module</strong> |</p>
<p class="p">Peripherals (Used, On-Board): | <strong class="ph b">RGB LED</strong> | <strong class="ph b">User Button</strong>| <strong class="ph b">UART-USB Converter</strong>|</p>
</div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__INTRODUCTION"><h2 class="title sectiontitle">Introduction</h2><p class="p">This page describes the demo steps for <span class="ph">WBZ451</span> Curiosity board Extended Light control and Monitoring using Amazon Echo Plus (zigbee gateway)</p>
<p class="p">An overview of the demo is shown below.</p>
<img class="image" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__IMAGE_WHG_DZH_M5B" src="GUID-ED3DD78D-B698-415E-854A-6E4724E10FD2-low.jpg" /></div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__PREREQUISITES-"><h2 class="title sectiontitle">Hardware Required</h2>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-8997D50B-B6B9-432C-BB39-63BEEE5F901B" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:middle;" id="d89496e59"><span> <strong class="ph b">Tool</strong></span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d89496e63"><span> <strong class="ph b">Qty</strong></span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e59 "><span><span class="ph">WBZ451</span> Curiosity Boards</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e63 "><span>1</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e59 "><span>Micro USB cable</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e63 "><span>1</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e59 "><span>Amazon Echo Plus (Built-in Zigbee smart home hub)</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e63 "><span>1</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e59 "><span>Smart Phone with Alexa app installed</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e63 "><span>1</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e59 "><span>Personal Computer</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e63 "><span>1</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__SDK-SETUP"><h2 class="title sectiontitle">SDK Setup</h2><a class="xref" href="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7.html" title="Steps to install IDE, compiler, tool chain, BLE, Zigbee stacks and application examples on your PC">Gettting Started with Software Development</a></div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__SOFTWARE"><h2 class="title sectiontitle">Software</h2> <a class="xref" href="https://ttssh2.osdn.jp/index.html.en" target="_blank">TeraTerm</a></div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-476D9648-8FFD-4234-BA75-D7625FED5385"><h2 class="title sectiontitle">Programming the precompiled hex file or Application Example</h2><p class="p"><strong class="ph b">Programming the hex file using MPLABX IPE</strong></p>
<ol class="ol" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-86DFBE12-A651-42BA-B28A-3BBE8A45957A"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-615EAAB4-CA37-48DC-B8D6-A517E037C6B2"><span class="indent-level-default">1.</span><p class="p">Precompiled Hex file is located in "<span class="ph">&lt;Harmony Content
        Path&gt;\wireless_apps_pic32cxbz2_wbz45</span>\apps\zigbee\ext_light" folder</p>
</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-32A5BDB1-E7AC-43F3-8DE0-1C2A0C6B2BA4"><span class="indent-level-default">2.</span><p class="p">Follow the steps mentioned <a class="xref" href="https://microchipdeveloper.com/ipe:programming-device" target="_blank">here</a></p>
</li>
</ol>
<p class="p"><strong class="ph b">Caution:</strong> Users should choose the correct Device and Tool information</p>
<p class="p"><strong class="ph b">Programming the Application using MPLABX IDE</strong></p>
<ol class="ol" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-38E32D75-4A7E-4FCA-AB19-EAC72582B498"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-33A1AC6E-81BD-4873-9C21-CC3BF516AAC9"><span class="indent-level-default">1.</span><p class="p">Follow steps mentioned in of <a class="xref" href="GUID-EA74172C-595E-4A34-B359-D42EE443F0EC.html" title="Here is how to open, build and program an existing application example">Running a Precompiled Example</a> document</p>
</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-87FDAD2C-721F-4193-A9F9-C5DFD00D8841"><span class="indent-level-default">2.</span><p class="p">Open and program the Application Example "ext_light.x" located in "<span class="ph">&lt;Harmony Content
        Path&gt;\wireless_apps_pic32cxbz2_wbz45</span>\apps\zigbee\ext_light\firmware" using MPLABX IDE</p>
</li>
</ol>
<dfn class="term">&lt;Harmony Content Path&gt;</dfn> <a class="xref" href="GUID-A55E9342-CE44-4A91-86BB-FEC6706FCD1C.html#GUID-A55E9342-CE44-4A91-86BB-FEC6706FCD1C__GUID-C6B23D06-5DF8-4D73-B997-AC22020FE9D3">how to find what is my Harmony Content Path</a></div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__DEMO-DESCRIPTION"><h2 class="title sectiontitle">Demo Description</h2><p class="p">The demo applications demonstrates the Zigbee protocol functionality of PIC32CXBZ/WBZ family of devices and modules. It consists of a ZigBee 3.0 Coordinator and Router implemented as shown below :</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-79B319CA-DAD3-4902-906A-D189A2B11D79" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:middle;" id="d89496e172"><span> <strong class="ph b">Application</strong></span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d89496e176"><span> <strong class="ph b">Zigbee Logical Device Type</strong></span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d89496e180"><span> <strong class="ph b">Functionality</strong></span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e172 "><span>Amazon Echo Plus</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e176 "><span>Coordinator</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e180 "><span>Device capable of controlling and monitoring other devices. </span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e172 "><span>Extended Lights</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e176 "><span>Router</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d89496e180 "><span>Is a lighting device that can be switched on/off , brightness &amp; color of the light can be adjusted via the color commands.</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Zigbee device commissioning:</strong></p>
<ul class="ul"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-863F7F11-580D-41AD-B29E-FABF6391EFF5"><p class="p">The Zigbee router i.e. Extended Lights can be commissioned and brought to the existing zigbee network formed by Zigbee gateway i.e. Amazon Echo Plus or can create new zigbee Distributed network (if there is no nearby network).</p>
</li>
</ul>
<p class="p"><strong class="ph b">Zigbee Light control:</strong></p>
<ul class="ul"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-969F5A1E-F52A-4087-8E47-B9C2BCF46D60"><p class="p">Extended light RGB LED can be controlled from Zigbee Gateway of the same network.</p>
</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-4D1E5F41-9091-4867-AF6A-EE7E4BC69216"><p class="p">When the light status is changed the light change report will be sent to zigbee gateway through Zigbee communication.</p>
</li>
</ul>
</div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__DEMO-STEPS"><h2 class="title sectiontitle">Demo Steps:</h2><div class="sectiondiv"><strong class="ph b"> Hardware &amp; Software Setup</strong></div><ol class="ol" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__OL_PLT_FRQ_L5B"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-502E31C8-072F-4C53-AE36-8EC1F3928758"><span class="indent-level-default">1.</span>Supply power to <span class="ph">WBZ451</span> Curiosity Board consisting of Extendted light application by connecting a USB cable. Power Supply (PS) Green LED will turn on when connect to PC. <br /><img class="image" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__IMAGE_QYP_SM4_45B" src="GUID-82216D6D-AD47-4BAF-A941-0437090A2761-low.jpg" /><br /></li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-E4EFE9A1-9C1B-42D0-A076-7656CAE9B40E"><span class="indent-level-default">2.</span>The application activity is shown as "Console Log" through on board UART-USB converter </li>
</ol>
<ul class="ul" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__UL_QJH_CQQ_L5B"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-EA50E248-E3FB-4ADE-B3C4-03FC1904B80E"><p class="p">Open Terminal(eg: Tera Term) with the setup as shown below to look for these logs</p>
</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-A312A980-64F6-451A-BA6C-125CA2AE26BD"><p class="p">On the PC side virtual COM port connection that corresponds to the board shall have following settings: </p>
<pre class="pre codeblock" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__CODEBLOCK_PZ4_JCX_L5B"><code id="d89496e238" content="BAUD RATE: 115200 (as configured in SERCOM configuration)&#xA;PARITY: None&#xA;DATA BITS: 8&#xA;STOP BITS: 1&#xA;FLOW CONTROL: None">BAUD RATE: 115200 (as configured in SERCOM configuration)
PARITY: None
DATA BITS: 8
STOP BITS: 1
FLOW CONTROL: None</code></pre></li>
</ul>
 Additionally, local echo and sending line ends with line feeds shall be enabled in the PC serial terminal application. <br /><img class="image" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__IMAGE_SJH_CQQ_L5B" src="GUID-D0FB03A7-B0B8-4889-B1EB-11B00323BD2A-low.png" /><br /><p class="p"><strong class="ph b">Commissioning (Router - Extended Light)</strong></p>
Light can be added to Alexa's Zigbee network by voice commands or by using Alexa mobile app <ul class="ul" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__UL_BV1_ZFM_M5B"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-1F58A3D9-BF29-4F54-908D-1711B61801FA"><p class="p"><strong class="ph b">Voice Commands:</strong> Open Alexa to discover the Light device. Say “Discover my devices”. or</p>
</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-3A9D7E24-FF55-4847-ABF6-9396FC79890D"><p class="p"> <strong class="ph b">Alexa App:</strong></p>
<ul class="ul" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__UL_MCQ_B13_M5B"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-6AFDAB55-41E2-45FA-9245-95F1AAFC2BBB">Launch Alexa app, from the menu, select the Add Device.</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-55D102BB-34B3-45A4-ADF9-A620885A7D23">Select the type of smart home device “Light” and select "Other".</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-0720D1C4-5F8E-41D6-B983-018B5432CD94">Initiate Discover Devices</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-DC25FABE-ECCE-4A16-91FB-C08399896E85">Input command : <em class="ph i">resetToFN</em> on light device.The Light will be discovered and shown as light in Alexa app as shown below.<div class="fig fignone" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-CF0ECBB9-C513-4988-AD00-C2891F004479"><div class="figcap"><span class="fig--title-label">Figure 1. </span>. </div><span class="desc figdesc"></span><img class="image" src="GUID-7DF3CC70-5184-4862-B8D4-6F540B86BF4A-low.gif" /></div>
<p class="p"></p>
</li>
</ul>
</li>
</ul>
<p class="p"><strong class="ph b">Note:</strong> Echo Plus is in discovery mode for 45 secs. Devices wanting to join Echo Plus should initiate joining/connecting procedure within this time limit for a successful join</p>
<strong class="ph b">RGB color control from Alexa </strong><ul class="ul" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__UL_EMB_2HM_M5B"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-01D584DA-B8A5-4D87-AD1B-BBE5A47AF059"><p class="p">Either through voice commands like "Alexa, Turn on my first light", "Alexa, Change color of my first light to "GREEN"", "Alexa, increase the brightness of my first light" or from Alexa app the RGB LED can be controlled through Zigbee network </p>
</li>
</ul>
<p class="p"><img class="image" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__IMAGE_GMB_2HM_M5B" src="GUID-64889026-D524-4E88-A1C2-3BCD8AB39CF8-low.jpg" width="250" height="500" /> ----&gt; <img class="image" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__IMAGE_HMB_2HM_M5B" src="GUID-D1AA769C-B162-40B6-A122-CD8A3A7EDA14-low.jpg" width="250" height="500" /></p>
<p class="p"><strong class="ph b">Other Functionalities</strong></p>
<ol class="ol" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-2AF404C3-8A3A-41C4-82DD-8CC05755ED39"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-6502B944-E92B-414F-9F02-E1579EB3EFA4"><span class="indent-level-default">1.</span><p class="p">On board button actions:</p>
<ul class="ul"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-59CF4077-C644-41DD-BFCF-EADA7EE5AFF2"><p class="p">When the on board "User Button (<span class="ph">SW2</span>)" is pressed for more than 10sec, it can delete all the networking information and will bring the device to factory default state. This functionality is available in both combined interface and light devices.</p>
</li>
</ul>
</li>
<li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-7F028B93-BF26-42B1-A835-10AB52AD356B"><span class="indent-level-default">2.</span><p class="p">Persistent Data Storage (PDS): The RGB light status (On/Off) and brightness values are stored in non-volatile memory called PDS. So, power off/on of extended light, these values persist and RGB LED will reflect accordingly. This PDS storage is tied to zigbee network.</p>
<ul class="ul"><li class="li" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__GUID-7BF2802A-C15E-45B1-9E6C-249743E44877"><p class="p">The light On/Off status, colour and light brightness is being stored in non-volatile memory in this case. So, power off/on, the LED will be updated with light on/off and brightness values retrieved from previous transaction.</p>
</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="GUID-6A3E9676-3271-4BA6-BD4F-AAC9661E51B6__CREATING-APPLICATION-DEVICE-TYPES-FROM-SCRATCH-USING-MCC"><h2 class="title sectiontitle">Creating Application Device Types From Scratch Using MCC</h2><p class="p">All the supported device types including this Extended Colour light projects can be generated by following the steps in <a class="xref" href="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7.html" title="There are different zigbee device types supported in Microchip Zigbee framework. Few sample application projects are available as reference &lt;Harmony Content Path&gt;\wireless_apps_pic32cxbz2_wbz45\apps\zigbee . The projects for other device types can be generated by following the step by step procedure in this document.">Generating project from MCC</a>.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-ACC1C69A-65C7-45E5-94FD-81BF5B29E381.html" title="Documentation describing steps to test and develop the precompiled Zigbee application examples.">ZigBee Applications</a></div>
</div>
</div></body>
</html>