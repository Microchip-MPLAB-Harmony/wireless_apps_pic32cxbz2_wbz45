<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Zigbee Project Generation" />
<meta name="Description" content="There are different zigbee device types supported in Microchip Zigbee framework. Few sample application projects are available as reference &lt;Harmony Content Path&gt;\wireless_apps_pic32cxbz2_wbz45\apps\zigbee . The projects for other device types can be generated by following the step by step procedure in this document." />
<meta name="DC.relation" scheme="URI" content="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7" />
<meta name="DC.language" content="en-US" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Zigbee Project Generation</title>
<meta name="Microsoft.Help.Id" content="GUID-A5330D3A-9F51-4A26-B71D-8503A493DF9C-GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7" />
<meta name="Microsoft.Help.TocParent" content="GUID-A5330D3A-9F51-4A26-B71D-8503A493DF9C-GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="Software Development Reference A 09/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7">
<h1 class="title topictitle1" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-A17BA29C-338A-4A1F-A1E6-992B86B43D28" style="">Zigbee Project Generation</h1><div class="body"><p class="shortdesc">There are different zigbee device types supported in Microchip Zigbee framework. Few
        sample application projects are available as reference <span class="ph">&lt;Harmony Content
        Path&gt;\wireless_apps_pic32cxbz2_wbz45</span>\apps\zigbee . The projects for
        other device types can be generated by following the step by step procedure in this
        document.</p>

        <div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-E06543A6-BBFC-47DA-A65C-92B6DA97CFAF"><h2 class="title sectiontitle">SDK Setup</h2>
            
            <ol class="ol" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-4CBB6317-A2DE-486F-BCE0-42062FCF6301">
                <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-7BE36147-8D27-4F88-939B-A394D40FC357"><span class="indent-level-default">1.</span>
                    <p class="p"><a class="xref" href="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7.html" title="Steps to install IDE, compiler, tool chain, BLE, Zigbee stacks and application examples on your PC">Gettting Started with Software Development</a></p>

                </li>

            </ol>

        </div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-733E54D1-3D30-482F-AFE9-4B6E055D4307"><h2 class="title sectiontitle">Generating Intended Device Type project using MCC</h2></div>
<div class="p">
            <ol class="ol" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-A8936B82-0A9A-4DAA-B1C2-CDC3F2230CC4">
                <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-F7DC1F44-B4CB-45DC-ADDF-7654FDABE79B"><span class="indent-level-default">1.</span>
                    <p class="p">Create a new MCC Harmony Project -- <a class="xref" href="GUID-B86E8493-D00D-46EF-8624-D412342147F0.html">link</a> for instructions</p>

                </li>

                <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-7729773D-5870-4D75-8700-46A08ECAA679"><span class="indent-level-default">2.</span>
                    <div class="p">Click on "+" symbol on the Intended Zigbee Device Type component from "Device Resources"<ul class="ul">
                            <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-9C311D98-9A2F-4CB2-AA01-4C472174AF95">
                                <p class="p">"OnOffLight" Device component is shown for example</p>

                            </li>

                            <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-F3E6B841-17B1-46D9-9A8F-4B361F3EFB61">
                                <div class="p">"Accept Dependencies or satisfiers, select "Yes""<div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-E165CDD0-3050-4791-8EBF-5D6497305EF1">
                                        <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_FNR_CLQ_L5B" src="GUID-1894EBBF-DD10-404A-8F5F-17941CA81E41-low.png" /><br />
                                        <img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_YRH_TKQ_L5B" src="GUID-706E72B9-9E57-42E4-A563-B9E4AA6D8E96-low.png" />
                                    </div>
</div>

                            </li>

                        </ul>
</div>

                </li>

                <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-E3D6D71E-2509-486B-9B8E-9C8ECBF50537"><span class="indent-level-default">3.</span>Add UART components needed for
                    console logs and commands (optional). Verify the UART SERCOM configuration as
                        <a class="xref" href="GUID-BA19A3F8-CCEB-44C2-B5BF-C203DD6A8D41.html#GUID-BA19A3F8-CCEB-44C2-B5BF-C203DD6A8D41__GUID-61DF971F-B824-4EC5-96A6-5B53D6A669DC">here</a>.<br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_P3Q_LLQ_L5B" src="GUID-043D4D46-4968-4767-94DF-8E90619DAE0E-low.png" /><br /></li>

                <li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-0871B125-CB9E-4E69-BAEF-4362D9445321"><span class="indent-level-default">4.</span>Verify if the Project Graph window has all the expected MCC configurations<img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_BWP_VKQ_L5B" src="GUID-BAFB2B21-8F34-4348-9C61-62D4A84A362C-low.png" /></li>

            </ol>

        </div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-DDA25055-28A6-4CD4-AB6C-2EF12DB8719A"><h2 class="title sectiontitle">Generate Code</h2>Instructions
                on<a class="xref" href="GUID-9C28F407-4879-4174-9963-2CF34161398E.html">how to Generate Code</a></div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-837ECE49-39B9-43F4-AE5E-495453DBDBDC"><h2 class="title sectiontitle">Files and Routines Automatically generated by MCC</h2></div>
<p class="p">After generating the code from MCC tool by clicking Generate, below is the project folder structure.</p>
<div class="p"><div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-BCC2C1C5-4F6E-446D-8D37-A724CE049F48"><br /><img class="image" src="GUID-8A61F3D3-ECC7-476E-8C41-0419207B0F31-low.png" /><br /></div>
</div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-99B303F7-9519-4664-A2F0-068DB307E092"><h2 class="title sectiontitle">Zigbee Stack Initialization and Application callback registration</h2></div>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-11F8FBB7-0AE0-44C7-A035-3CDF30D67560"><p class="p">The RF System, ZIGBEE, PERIPHERAL initialization routine executed during program initialization can be found in <strong class="ph b">SYS_Initialize()</strong> of <strong class="ph b">initialization.c</strong> file</p>
</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-7A0DEEA4-02B8-441A-95B1-5F18041400D7"><div class="p">Zigbee Stack provides various APIs for application, and those APIs belong to the specific module
                    within dedicated group. The sequence of initialization is already taken care in
                    the stack when <strong class="ph b">Zigbee_Init()</strong> from <strong class="ph b">initialization.c</strong> is called.<div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-48905150-09D9-4044-8529-1D7896470439">
                        <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_WXD_VLQ_L5B" src="GUID-2363500D-9E80-4A2A-8C66-DA82F8DEBC99-low.png" /><br />
                    </div>
</div>
</li>
</ul>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-EA4BD392-15DA-4C1E-9D15-154ED16598B6"><div class="p">Zigbee Stack generate events to inform application if there is any status changed or activity.
                    Application may need to get the relevant information from Zigbee Stack and do
                    the corresponding procedure.<br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_WQL_WLQ_L5B" src="GUID-CBB63CE6-5D39-4410-97AB-5620BD39DECB-low.png" /><br /></div>
</li>
</ul>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-302F199C-B7AB-413A-9736-CA092379BB93"><h2 class="title sectiontitle">Zigbee Stack application events handling</h2></div>
<p class="p"><strong class="ph b">app.c</strong> file is autogenerated and has a state machine for application callback handling from Zigbee stacks</p>
<div class="p"><div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-9C8CAC67-B734-4DFF-B84E-DDE18E80F47B"><br /><img class="image" src="GUID-6EC78E23-A5DB-44A5-904C-CB2793BED233-low.png" /><br /></div>
</div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-0871CE47-DBC5-48FC-8AF0-97536626F46D"><h2 class="title sectiontitle">User Application Development</h2></div>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-F8D1B531-23C7-4148-AC4B-57EF5A414BEB"><div class="p">Compile MCC auto generated project<div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-734495C7-912D-4740-8DDA-FC1A119C97E0">
                        <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_VMS_YLQ_L5B" src="GUID-8311CB25-A1E0-4DA1-A375-84F7A61FFD8D-low.png" /><br />
                    </div>
</div>
</li>
</ul>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-35585A88-B06D-4BF3-9754-9A965958C111"><p class="p">Edit device unique ID
                    (zigbeeAppDeviceSelect.h)</p>
All the zigbee devices/modules will hold their
                unique IEEE address purchased from IEEE. For the demo purpose, where UID is not
                present in internal NVM, the pre-compiled fixed UID to be used. Edit the CS_UID to
                user defined value and not matching with combined interface UID (default 0xbee) as
                below in <strong class="ph b">zigbeeAppDeviceSelect.h</strong><div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-9BA2590E-4EDE-4978-ACDC-00FE1343E321">
                    <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_U1B_1MQ_L5B" src="GUID-5F9933FC-848D-491D-8B44-7907F57EE95C-low.png" /><br />
                </div>
</li>
</ul>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-321A38BE-DB00-4CCA-B85C-C8C5FF44DC68"><h2 class="title sectiontitle">Programming the Application using MPLABX IDE</h2></div>
<div class="p">Build the project after doing all the above changes and program on Curiosity board.<br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_IXF_2MQ_L5B" src="GUID-F364CBF1-DF5F-483C-B4D5-A818CD7B269B-low.png" /><br /></div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-3DDE4497-32FE-4AF9-BA6B-924B23511DF9"><h2 class="title sectiontitle">Hints: Custom code modification (app_zigbee_handler.c)</h2></div>
<p class="p">There will be 3 major events which the stack would provide to the user application in <strong class="ph b">app_zigbee_handler.c</strong> file. They are ,</p>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-65BDE4BA-8F4B-4983-9341-72F00DCD504C"><p class="p">Zigbee Events which is defined as "EVENT_ZIGBEE"</p>
</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-D32E1E81-6351-4267-969F-495B278F28E6"><p class="p">ZCL and Cluster Events defined as
                    "EVENT_CLUSTER"</p>
For more details regarding clusters, please refer to, the
                specification from Zigbee Alliance -&gt; <u class="ph u">Link to Zigbee Cluster Library
                    Specification by Zigbee Alliance</u><p class="p"></p>
ZCL specific cluster events are received
                in ZCL EVENT_CLUSTER <strong class="ph b">Cluster_Event_Handler()</strong> in application layer. For the
                all the supported device types, most of the ZCL specific activities are
                automatically handled in middleware. If user wish to take some action of ZCL events,
                can do changes in this Cluster_Event_Handler() for the specific ZCL event.</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-A94659E2-453D-4CCC-B664-7F4E9D9786A2"><p class="p">Board Specific Package (BSP) Events defined as
                    "EVENT_BSP"</p>
In addition to above ZCL event, BSP event will also be called
                when specific ZCL command is received. <strong class="ph b">BSP_Event_Handler()</strong> API is called for
                EVENT_BSP event. This will enable the user to write the board specific functionality
                code like switch on/off the on board LED, controlling the thermostat. Refer to
                    <u class="ph u">Extended Light BSP Handling</u></li>
</ul>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-B97D3EEE-5EC5-4CDA-AD70-BC81EBDB60F9"><h2 class="title sectiontitle">Hints: Zigbee Specific MCC
                Configuration</h2></div>
<div class="p"><ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-4EC50C37-C682-4FB9-B795-A21C4324C439"><div class="p">Harmony3 based Microchip Zigbee stack framework allows, user to do different configurations and
                        generate the code based on that configurations.<br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_HPF_5MQ_L5B" src="GUID-E3DE11B5-6150-4FDD-B5BC-9E99DFB95B2F-low.png" /><br /></div>
</li>
</ul>
</div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-A26E6351-E6F2-4CFE-BA45-45E1DFA20780"><h2 class="title sectiontitle">Auto and Manual Configuration</h2></div>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-34BC537F-BC7F-459D-A236-A20FCC0C59F2"><p class="p">When the device type component is added in project graph, the default will be auto configuration.
                    All the allowable configurations will take already defined default values in the
                    generated code.</p>
</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-811248DD-3B9C-4ADC-99D2-07434F44F1D6"><div class="p">Enabling "Manual Configuration" will allow user to change the configurations.<br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_XKZ_TMQ_L5B" src="GUID-663706D1-E8A6-4475-8B5D-68F4D50B4B7C-low.png" /><br /></div>
</li>
</ul>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-53DAED21-C77B-4EED-8240-0C2A33486464"><h2 class="title sectiontitle">Stack configuration</h2>Zigbee
            stack specific configurations like routing table size, maximum allowable children to get
            joined in one parent, etc., can be changed based on the customer application use case.
            The changed configurations will be reflected in <strong class="ph b">stackConfig.h</strong>.</div>
<div class="p"><strong class="ph b">Tip:</strong>
            <em class="ph i">The table size configurations will have impact on RAM memory size. So, care must be
                taken while choosing the values.</em><div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-74824AB3-5DCE-4B65-A7CC-32467E956C8D">
                <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_XWV_VMQ_L5B" src="GUID-83CB6C25-27B1-449A-A75C-3AE951ECCBAB-low.png" /><br />
            </div>
</div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-1B5B4554-446E-4597-B1B0-52BF32D384BC"><h2 class="title sectiontitle">Commissioning
            Configuration</h2>Commissioning is the process of initializing the devices to join a
            network and to work together. The Zigbee Base Device Behaviour specification specifies
            the procedures for different commissioning mechanisms. MCC configuration allows user to
            configure this from configurator. The details of different commissioning procedure is
            explained in <u class="ph u"><a class="xref" href="GUID-7E62A1F7-3B35-4B5A-86DA-F5694100F9E8.html" title="Commissioning is the process of initializing the devices to join a network and to work together. The Zigbee Base Device Behaviour specification specifies the procedures for the following commissioning mechanisms which are executed in the order as given given below">Zigbee Commissioning</a></u><p class="p"></p>
These configuration changes are reflected in
                <strong class="ph b">zigbeeAppConfig.h</strong>.</div>
<div class="p">
            <div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-8459CEB6-C8D0-4006-B6EA-FA0281A98EF7">
                <br /><img class="image" src="GUID-E864C6B9-572B-4DE4-B9E8-2322BCF9E58F-low.png" /><br />
            </div>

        </div>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-12A2C4E8-D633-496D-B520-D790727EA10E"><h2 class="title sectiontitle">Application Configuration</h2></div>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-C879F5D6-8C10-4D65-812F-CE6E4758AFDC"><p class="p">Application specific configurations like enabling the console commands is done here.</p>
</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-AF6FC7CB-E80A-40AA-9DED-62467FACA03B"><p class="p">The console based commands would be practically needed during development stage. This may not be needed end product stage. So, this configuration gives flexibility to enable/disable based on the need.</p>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-99E332AA-71FD-4A11-91A5-1A63754272B0"><p class="p">"Enable Zigbee Console Commands" to be checked always.</p>
</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-4BFC5414-C2AF-450B-809D-1730A6A1A6AA"><p class="p">When the console command is enabled, make sure the required UART driver is configured as done in <a class="xref" href="#GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7" title="There are different zigbee device types supported in Microchip Zigbee framework. Few sample application projects are available as reference &lt;Harmony Content Path&gt;\wireless_apps_pic32cxbz2_wbz45\apps\zigbee . The projects for other device types can be generated by following the step by step procedure in this document.">UART Component Addition</a> The details of manual commands and usage is explained <u class="ph u"><a class="xref" href="GUID-BA19A3F8-CCEB-44C2-B5BF-C203DD6A8D41.html" title="Zigbee Serial console commands">Console commands</a></u></p>
</li>
</ul>
</li>
<li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-92F8C668-E9F2-41C1-A56E-602D13C2224C"><div class="p">Another configuration is zigbee primary/secondary channel masks configuration. Zigbee supports 16
                    channels (channel 11 to 26) in 2.4GHz frequency band. These 16 channels are bit
                    mapped to bits 11 to 26. For example in channel mask 0x0000800, bit 11 is set.
                    This means channel 11 is enabled. These configuration changes are reflected in
                        <strong class="ph b">zigbeeAppConfig.h</strong> and <strong class="ph b">stackConfig.h</strong> files.<div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-BDC408FF-CA99-4CB6-AE34-429C27AD063D">
                        <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_YD5_FNQ_L5B" src="GUID-B9491F89-3F12-4B51-B24E-913CF8300C26-low.png" /><br />
                    </div>
</div>
</li>
</ul>
<div class="section" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-C8083BD8-043E-4DFF-8825-A8C7C29398F2"><h2 class="title sectiontitle">Cluster Configuration</h2></div>
<ul class="ul"><li class="li" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-56D1EB45-110A-44E7-9A7B-28BC5E4FDEDA"><div class="p">All the supported mandatory and optional clusters in specific device type as per specification
                    are implemented. The MCC configurator allows user to add/remove the optional
                        clusters/attributes/commands.<div class="fig fignone" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__GUID-D9F0C560-2F68-472E-9551-D22EB7CC49F0">
                        <br /><img class="image" id="GUID-B70D4611-9448-4ACC-99C6-308B8EC2BEB7__IMAGE_N4N_GNQ_L5B" src="GUID-BB266002-6EA4-4643-BB98-0A86D66571CD-low.png" /><br />
                    </div>
For more details regarding Zigbee lighting and Occupancy device types,
                    please refer to, Zigbee Lighting and Occupancy (ZLO) specification -&gt;
                            <u class="ph u"><a class="xref" href="https://zigbeealliance.org/wp-content/uploads/2019/11/docs-15-0014-05-0plo-Lighting-OccupancyDevice-Specification-V1.0.pdf" target="_blank">Link to Zigbee Lighting and Occupancy (ZLO) device Specification by Zigbee Alliance</a></u></div>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132.html" title="This is a generic document, which gives the user an overview of few key Zigbee 3.0 protocol concepts and guidance on implementing these features on PIC32CX-BZ/WBZ using Microchip software. It shows how the protocol configurations(such as application, device types, clusters, commissioning) can be enabled/disabled, configured in a step by step manner, using Microchip's embedded software development framework tools. Microchip Harmony Framework is a full-featured, production grade, embedded software development platform from Microchip. It provides a framework for creating zigbee devices running on PIC32CX-BZ/WBZ family of device and modules.">Getting Started with Zigbee Applications</a></div>
</div>
</div></body>
</html>