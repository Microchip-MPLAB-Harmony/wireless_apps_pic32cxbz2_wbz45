<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Zigbee Application Demo: Multi-Sensor with Low Power Functionality" />
<meta name="DC.relation" scheme="URI" content="GUID-ACC1C69A-65C7-45E5-94FD-81BF5B29E381.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED" />
<meta name="DC.language" content="en-US" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Zigbee Application Demo: Multi-Sensor with Low Power Functionality</title>
<meta name="Microsoft.Help.Id" content="GUID-A5330D3A-9F51-4A26-B71D-8503A493DF9C-GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED" />
<meta name="Microsoft.Help.TocParent" content="GUID-A5330D3A-9F51-4A26-B71D-8503A493DF9C-GUID-ACC1C69A-65C7-45E5-94FD-81BF5B29E381" />
<meta name="Microsoft.Help.TocOrder" content="3" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="Software Development Reference A 09/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED">
<h1 class="title topictitle1" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-5E0E4AB6-10C5-4AB1-9EEF-1543CA9C7C70" style="">Zigbee Application Demo: Multi-Sensor with Low Power Functionality</h1><div class="body"><div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__WBZ451-CURIOSITY-BOARD"><h2 class="title sectiontitle"><span class="ph">WBZ451</span> Curiosity Board</h2><p class="p">Devices (Device): | <strong class="ph b"><span class="ph">PIC32CX1012BZ25048</span>(MCU) on <span class="ph">WBZ451</span> module</strong> |</p>
<p class="p">Peripherals (Used, On-Board): | <strong class="ph b">UART-USB Converter</strong>|</p>
</div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__INTRODUCTION"><h2 class="title sectiontitle">Introduction</h2><p class="p">This tutorial will help users to create a low power enabled multi sensor application</p>
<img class="image" src="GUID-1E4973F1-2CD5-43A1-BCF9-28327B94C1B9-low.jpg" /></div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__PREREQUISITES-"><h2 class="title sectiontitle">Prerequisites :</h2><p class="p"><strong class="ph b">Hardware Required</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-772EF118-804C-40A6-9195-88F1E11B171E" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:middle;" id="d4277e51"><span> <strong class="ph b">Tool</strong></span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d4277e55"><span> <strong class="ph b">Qty</strong></span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e51 "><span><span class="ph">WBZ451</span> Curiosity Boards</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e55 "><span>2</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e51 "><span>Micro USB cable</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e55 "><span>2</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e51 "><span>Personal Computer</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e55 "><span>1</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">SDK Setup</strong></p>
<p class="p"><strong class="ph b">- <a class="xref" href="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7.html" title="Steps to install IDE, compiler, tool chain, BLE, Zigbee stacks and application examples on your PC">Getting Started with Software Development</a></strong></p>
<p class="p"><strong class="ph b">Terminal Software</strong></p>
<p class="p"><strong class="ph b">- <a class="xref" href="https://ttssh2.osdn.jp/index.html.en" target="_blank">TeraTerm</a></strong></p>
</div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__DEMO-DESCRIPTION"><h2 class="title sectiontitle">Demo Description</h2><p class="p">This application demonstrate the Zigbee Multi-Sensor end device joining to Zigbee Coordinator (Combined Interface or third-party gateway's such as Amazon Echo plus can also be used instead of CI.) After joining, multisensor device will start ZCL attribute reporting of sensor data such as temperature, occupancy, light, and humidity after connecting to the network.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-B38AA0B0-606B-4998-B260-C241CEEC0D42" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:middle;" id="d4277e110"><span> <strong class="ph b">Application</strong></span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d4277e114"><span> <strong class="ph b">Zigbee Logical Device Type</strong></span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d4277e118"><span> <strong class="ph b">Functionality</strong></span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e110 "><span>Combined Interface</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e114 "><span>Coordinator</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e118 "><span>Device capable of controlling and monitoring other devices. It is typically a mains-powered device like a personal computer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e110 "><span>Multi-Sensor</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e114 "><span>End Device</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d4277e118 "><span>Reports sensor data such as temperature, occupancy, light, and humidity periodically to gateway</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p">To run the demo , we need 2 devices. One is the Combined Interface and the other is multi sensor.</p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-3476AFD4-7F89-4A56-82D8-D38A00D3CEAC"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-D22EBD67-B30B-474F-970E-52ABFC7A39F9"><span class="indent-level-default">1.</span><p class="p">One of the <span class="ph">WBZ451</span> Curiosity board is programmed with Combined Interface which can act as Zigbee Gateway/Coordinator. Program the CI pre-compiled hex image by following steps on one curiosity board.</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-3D48A229-3DAC-4D9A-8149-CA3E2A6AECF8"><span class="indent-level-default">2.</span><p class="p">Another <span class="ph">WBZ451</span> Curiosity board is programmed with Multi sensor application which can act as Zigbee end device. Program the pre-compiled hex image by following Programming the precompiled hex file using MPLABX IPE on another curiosity board.</p>
</li>
</ol>
<ul class="ul"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-3F23B771-B98C-4738-99E8-8B15F7084E06"><p class="p">If want to do changes in the demo code and would like to program/debug the customized code follow the instruction in Build and Program The Application</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-5E4D72E3-EFEB-4929-B458-4F3DD7DA998E"><p class="p">If want to generate an application from scratch refer: Creating New Application Device Types. The steps for adding low power functionality is also explained here.</p>
</li>
</ul>
</div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__DEMO-STEPS-COMMISSIONING"><h2 class="title sectiontitle">Demo Steps: Commissioning</h2><p class="p">The Zigbee Multi-Sensor can be connected to any zigbee network.</p>
<ul class="ul"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-BED0EFFC-6597-4AE9-A169-558FCBAA6CC8"><p class="p">The steps explained in Joining Multi-Sensor with Amazon Echo can be followed to connect Zigbee Multi-Sensor to Amazon Echo, if Amazon Echo has Built-in Zigbee smart home hub.</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-1BF1874D-BF93-42FE-A0AF-55BCAF64A498"><p class="p">The steps explained in Joining Multi-Sensor with <span class="ph">WBZ451</span> Combined Interface (CI) Coordinator can be followed to connect with <span class="ph">WBZ451</span> based combined interface which acts as Zigbee Coordinator.</p>
</li>
</ul>
<p class="p"><strong class="ph b">Joining Multi-Sensor with Amazon Echo</strong></p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-E582142F-2DF6-4C45-A6CC-C18AF575B3FD"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-D529B176-7AE1-4007-A84D-07B8DB72604D"><span class="indent-level-default">1.</span><p class="p">Multi-Sensor can be added to Alexa's Zigbee network by voice commands or by using Alexa mobile app</p>
<ul class="ul"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-5553E776-68F7-42BE-B7FE-1F7DEB06E19D"><p class="p"><strong class="ph b">Voice Commands:</strong> Open Alexa to discover the Multi-Sensor device. Say “Discover my devices”. or</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-E331826D-F9A1-4509-AF42-B1AA4E3CC614"><p class="p"> <strong class="ph b">Alexa App:</strong></p>
</li>
</ul>
<ol class="ol" type="a" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-E9DB84F6-5924-4D11-9E30-20AFFC9849A1"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-E5A3CDA9-0E2D-44FB-84E7-51540C4D6E76"><span class="indent-level-default">a.</span><p class="p">Launch Alexa app, from the menu, select the Add Device.</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-2F7A6B3D-5240-4A67-8509-587608103850"><span class="indent-level-default">b.</span><p class="p">Select the type of smart home device “Motion Sensor” and select other.</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-B224C04B-B6BE-4750-8D3F-05807A8167B7"><span class="indent-level-default">c.</span><p class="p">Initiate Discover Devices</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-A2B774F8-8C5E-4564-93DC-6168BF4B2157"><span class="indent-level-default">d.</span><p class="p">Power on the Multi-Sensor device. The Multi-Sensor will be discovered and shown as motion sensor in Alexa app as shown below.</p>
</li>
</ol>
<img class="image" src="GUID-FF872C21-BFF4-4E63-907B-C5F452C79D07-low.jpg" /><p class="p"><strong class="ph b">Note:</strong> Echo Plus is in discovery mode for 45 secs. Devices wanting to join Echo Plus should initiate joining/connecting procedure within this time limit for a successful join</p>
</li>
</ol>
<p class="p"><strong class="ph b">Joining Multi-Sensor with <span class="ph">WBZ451</span>Combined Interface (CI) Coordinator</strong></p>
<p class="p"><strong class="ph b"># Hardware &amp; Software Setup</strong></p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-B0746B80-CC6D-4675-9BCE-D8C12AD037DC"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-5D10314A-C855-4786-B819-E2F6A1674097"><span class="indent-level-default">1.</span><p class="p">Supply power to <span class="ph">WBZ451</span> Curiosity Board consisting of Combined Interface application by connecting a USB cable. Power Supply (PS) Green LED will turn on when connect to PC.</p>
<img class="image" src="GUID-E0DC649A-7852-4EA5-90D4-8EAE899E2495-low.jpg" /></li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-72F0A6D0-9713-4F5C-BED9-833F46B21EEE"><span class="indent-level-default">2.</span><p class="p">The application activity is shown as "Console Log" through on board UART-USB converter</p>
<ul class="ul"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-0FE4088E-8EEF-40EE-9E59-9574B5D94626"><p class="p">Open Terminal(eg: Tera Term) with the setup as shown below to look for these logs</p>
</li>
</ul>
<p class="p">On the PC side virtual COM port connection that corresponds to the board shall have following settings:</p>
<ul class="ul"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-649A2FE4-81A3-45B8-B0D2-39FB513E4DF6"><p class="p">BAUD RATE: 115200 (as configured in SERCOM configuration)</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-1D6D0C1D-9DCA-45C3-8193-711BAAF30252"><p class="p">PARITY: None</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-77175298-2FD9-4F73-BE67-C176AC3624E6"><p class="p">DATA BITS: 8</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-3EE99787-0A83-45C8-A6B1-090EA9243883"><p class="p">STOP BITS: 1</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-F13DCFE7-01CB-4B3A-8F05-7165AD077F98"><p class="p">FLOW CONTROL: None</p>
</li>
</ul>
<p class="p">Additionally, local echo and sending line ends with line feeds shall be enabled in the PC serial terminal application.</p>
<img class="image" src="GUID-FBA768EC-60FD-43B3-BEE1-B1260D897B90-low.png" /></li>
</ol>
<p class="p"><strong class="ph b"># Network Formation (Coordinator - (Combined Interface))</strong></p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-75DD2583-2E6C-46DD-91DF-05B7A82042F3"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-EF254A59-A060-4F9B-8F57-FEE78B8C042D"><span class="indent-level-default">1.</span><p class="p">Follow the steps either <em class="ph i">case1</em> or <em class="ph i">case2</em> explained in Network Formation (Coordinator - (Combined Interface)) to open up the network in CI.</p>
</li>
</ol>
<p class="p"><strong class="ph b"># Commissioning (End Device - Multi-Sensor)</strong></p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-0518E7DD-56C6-454A-99D0-3C406ED6AA26"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-BB0892F2-82CB-4A67-AB89-FB1B9CDC8B78"><span class="indent-level-default">1.</span><p class="p">Supply power to <span class="ph">WBZ451</span> Curiosity Board which is programmed with Multi-Sensor image by connecting a USB cable. The Multi-Sensor will search for Zigbee coordinator device and will join to network and intiate Finding &amp; Binding.</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-682F404C-12E0-4B3D-B0A8-ED7131508DFE"><span class="indent-level-default">2.</span><p class="p">Once Multi-Sensor finishes Finding &amp; Binding procedure, it will start attribute reporting. The Combined interface terminal log will print the received attribute information as shown below.</p>
<img class="image" src="GUID-DA8A9AE6-164D-48AE-B4EC-CE21473A9A97-low.jpg" /></li>
</ol>
</div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__PROGRAMMING-THE-PRECOMPILED-HEX-FILE-USING-MPLABX-IPE"><h2 class="title sectiontitle">Programming the precompiled hex file using MPLABX IPE</h2><ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-12EA17B8-9E5B-40F4-AC0C-335384328C6B"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-24FAA580-7025-4486-81B7-BE3C153A8DD2"><span class="indent-level-default">1.</span><p class="p">Precompiled Hex file Extended light is located Multi Senso </p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-CDA25224-7205-4372-A613-EA7087714670"><span class="indent-level-default">2.</span><p class="p">Follow the steps mentioned <a class="xref" href="https://microchipdeveloper.com/ipe/programming-device" target="_blank">here</a></p>
</li>
</ol>
<p class="p"><strong class="ph b">Caution:</strong> Users should choose the correct Device and Tool information</p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-7609BD4B-B80F-46A0-9101-B71896E05596"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-D65C7CCC-C7EF-415A-A0C6-80D05026A979"><span class="indent-level-default">1.</span><p class="p">Follow the steps for running the demo</p>
</li>
</ol>
</div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__BUILD-AND-PROGRAM-THE-APPLICATION"><h2 class="title sectiontitle">Build and Program The Application</h2><p class="p">The source code of demo application is available here Multi Sensor . The source code implements the low power application as well and the configuration details are explained here for reference. If want to do changes in the demo code and would like to program/debug the customized code follow the below instruction.</p>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-A769460E-802E-4A43-874E-C9D6341A6BF2"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-D1EE7049-B5CC-43C9-A90D-43CF5238433B"><span class="indent-level-default">1.</span><p class="p">Open the "firmware/Zigbee_MultiSensor_wbz451_curiosity.X" MPLABX project from MPLABX</p>
</li>
</ol>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-DFC1F852-A367-41B9-B2E7-27A96881F4E0"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-B9D2862D-9291-4EA9-81C5-750B0311572C"><span class="indent-level-default">1.</span><p class="p">Do your changes in the code. Clean and build your application by clicking on the Clean and Build button as shown below.</p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-3B1E1149-0246-44CE-80E1-6131AD749AA8"><span class="indent-level-default">2.</span><p class="p">Program your application to the device, by clicking on the Make and Program button as shown below</p>
</li>
</ol>
</div>
<div class="section" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__CREATING-APPLICATION-DEVICE-TYPES-FROM-SCRATCH-USING-MCC"><h2 class="title sectiontitle">Creating Application Device Types From Scratch Using MCC</h2><ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-E04D783B-1B18-45EB-99E8-8FF204C980EB"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-5F9E0089-D67F-4109-8941-C7346A2EF2A2"><span class="indent-level-default">1.</span><p class="p">All the supported device types including this Multi Sensor projects can be generated by following the steps in Generating project from MCC </p>
</li>
</ol>
<ol class="ol" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-537266E1-203E-45A7-9C7A-29CA723F073B"><li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-FE10CF4E-65BB-450D-9A96-F9A4F071E1B0"><span class="indent-level-default">1.</span><p class="p">Multi sensor is zigbee end device type. So, the low power sleep functionality can be enabled for this application. Follow the steps in low power configuration doc </p>
</li>
<li class="li" id="GUID-0A5556D0-B6B7-4DD8-BEF1-D9B2B95F01ED__GUID-67F22CFD-AEFA-4D85-A746-65AAF8DDCBA0"><span class="indent-level-default">2.</span><p class="p">Compile and Run the project in WBZ45x device.</p>
</li>
</ol>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-ACC1C69A-65C7-45E5-94FD-81BF5B29E381.html" title="Documentation describing steps to test and develop the precompiled Zigbee application examples.">ZigBee Applications</a></div>
</div>
</div></body>
</html>