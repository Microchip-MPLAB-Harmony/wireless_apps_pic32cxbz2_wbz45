<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="copyright" content="(C) Copyright 2023"/><meta name="generator" content="DITA-OT"/><meta name="description" content="This document describes in detail the example of PIC32CXBZ2 BLE throughput evaluation using Microchip MBD APP and the factors affecting the BLE throughput."/>        
      <title>4.2.2 BLE Throughput</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09-d1763e455"/><meta name="wh-source-relpath" content="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09.xml"/><meta name="wh-out-relpath" content="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="PIC32CXBZ2 Application Developer's Guide "/></a>
                    <div class=" wh_publication_title "><a href="index.html">PIC32CXBZ2 Application Developer's Guide </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"><div class="d-flex justify-content-end"><div class="dropdown"><a style="font-size: 1em; padding: 7px 12px !important;" class="btn py-3 px-3 btn-outline-light dropdown-toggle" href="#" role="button" id="devicesMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Product Pages</a><div style="font-size: 1em;" class="dropdown-menu" aria-labelledby="devicesMenu"><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/pic32cx-bz2">PIC32CX-BZ2</a><a class="dropdown-item" target="_blank" href="https://www.microchip.com/en-us/product/wbz451"> WBZ451</a></div></div></div></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46"><div class="title"><a href="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4</ph>
Bluetooth Low Energy Applications</a><div class="wh-tooltip"><p class="shortdesc">This section provides details on documentation describing the steps to test and develop         the precompiled BLE application examples. </p></div></div></div></li><li><div class="topicref" data-id="GUID-92137358-930E-4654-9431-E8BA0E260468"><div class="title"><a href="GUID-92137358-930E-4654-9431-E8BA0E260468.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.2</ph>
Advanced Applications</a></div></div></li><li class="active"><div class="topicref" data-id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09"><div class="title"><a href="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.2.2</ph>
BLE Throughput</a><div class="wh-tooltip"><p class="shortdesc">This document describes in detail the example of <span class="ph">PIC32CXBZ2</span> BLE throughput evaluation using Microchip MBD APP and the  factors         affecting the BLE throughput. </p></div></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424-d1763e9" class="topicref introduction" data-id="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424.html" id="GUID-7663617B-0DD1-45FA-86B5-EB0778A5A424-d1763e9-link">Introduction</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-C0EB31FA-0642-4A8C-8974-E4DD62E36633-d1763e17" class="topicref" data-id="GUID-C0EB31FA-0642-4A8C-8974-E4DD62E36633" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-C0EB31FA-0642-4A8C-8974-E4DD62E36633-d1763e17-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-C0EB31FA-0642-4A8C-8974-E4DD62E36633.html" id="GUID-C0EB31FA-0642-4A8C-8974-E4DD62E36633-d1763e17-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
Quick references </a><div class="wh-tooltip"><p class="shortdesc">Enter a short description of your topic here (optional).</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6-d1763e39" class="topicref" data-id="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6-d1763e39-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6.html" id="GUID-4A40968E-8B6E-4C84-93B9-D31419BBBDA6-d1763e39-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">2</ph>
Getting Started with WBZ451 Curiosity Board</a><div class="wh-tooltip"><p class="shortdesc">This section covers the evaluation board features and running the preprogrammed demo         example. </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7-d1763e109" class="topicref" data-id="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7-d1763e109-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7.html" id="GUID-2AD37FE2-1915-4E34-9A05-79E3810726D7-d1763e109-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3</ph>
Getting Started with Software Development</a><div class="wh-tooltip"><p class="shortdesc">This section gives a detailed information on the steps to install IDE, compiler, tool         chain, BLE, Zigbee stacks and application examples on the PC. </p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46-d1763e212" class="topicref" data-id="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46-d1763e212-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46.html" id="GUID-3CC3561E-252E-43B9-BC8A-47DD108A0A46-d1763e212-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4</ph>
Bluetooth Low Energy Applications</a><div class="wh-tooltip"><p class="shortdesc">This section provides details on documentation describing the steps to test and develop         the precompiled BLE application examples. </p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-17DABF04-E5D8-4201-A746-2FC244450A19-d1763e223" class="topicref" data-id="GUID-17DABF04-E5D8-4201-A746-2FC244450A19" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-17DABF04-E5D8-4201-A746-2FC244450A19-d1763e223-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-17DABF04-E5D8-4201-A746-2FC244450A19.html" id="GUID-17DABF04-E5D8-4201-A746-2FC244450A19-d1763e223-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.1</ph>
Building Block Examples</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-92137358-930E-4654-9431-E8BA0E260468-d1763e431" class="topicref" data-id="GUID-92137358-930E-4654-9431-E8BA0E260468" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-92137358-930E-4654-9431-E8BA0E260468-d1763e431-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-92137358-930E-4654-9431-E8BA0E260468.html" id="GUID-92137358-930E-4654-9431-E8BA0E260468-d1763e431-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.2</ph>
Advanced Applications</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-D3F1BF46-F275-409B-A344-4DB9EAABC5E9-d1763e439" class="topicref" data-id="GUID-D3F1BF46-F275-409B-A344-4DB9EAABC5E9" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-D3F1BF46-F275-409B-A344-4DB9EAABC5E9-d1763e439-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-D3F1BF46-F275-409B-A344-4DB9EAABC5E9.html" id="GUID-D3F1BF46-F275-409B-A344-4DB9EAABC5E9-d1763e439-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.2.1</ph>
BLE Sensor App</a></div></div></li><li role="treeitem" class="active"><div data-tocid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09-d1763e455" class="topicref" data-id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09.html" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09-d1763e455-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.2.2</ph>
BLE Throughput</a><div class="wh-tooltip"><p class="shortdesc">This document describes in detail the example of <span class="ph">PIC32CXBZ2</span> BLE throughput evaluation using Microchip MBD APP and the  factors         affecting the BLE throughput. </p></div></div></div></li></ul></li><li role="treeitem"><div data-tocid="GUID-71834715-4833-43ED-A1ED-A2A72DDE48BC-d1763e469" class="topicref" data-id="GUID-71834715-4833-43ED-A1ED-A2A72DDE48BC" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-71834715-4833-43ED-A1ED-A2A72DDE48BC.html" id="GUID-71834715-4833-43ED-A1ED-A2A72DDE48BC-d1763e469-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.3</ph>
BLE Virtual Sniffer</a></div></div></li><li role="treeitem"><div data-tocid="GUID-29D584B4-2DB5-4161-B8E2-E5528BE98008-d1763e477" class="topicref" data-id="GUID-29D584B4-2DB5-4161-B8E2-E5528BE98008" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-29D584B4-2DB5-4161-B8E2-E5528BE98008.html" id="GUID-29D584B4-2DB5-4161-B8E2-E5528BE98008-d1763e477-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4.4</ph>
PIC32CXBZ2 Three-Wire PTA Coexistence Design</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132-d1763e485" class="topicref" data-id="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132-d1763e485-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132.html" id="GUID-668A6CB2-F1FB-438D-9E1E-D67AC3C1C132-d1763e485-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">5</ph>
Getting Started with Zigbee Applications</a><div class="wh-tooltip"><p class="shortdesc">This is a generic document, which gives the user an overview of few key Zigbee 3.0 protocol concepts and guidance on implementing these features on PIC32CX-BZ/WBZ using Microchip software. It shows how the protocol configurations(such as application, device types, clusters, commissioning) can be enabled/disabled, configured in a step by step manner, using Microchip's embedded software development framework tools. Microchip Harmony Framework is a full-featured, production grade, embedded software development platform from Microchip. It provides a framework for creating zigbee devices running on PIC32CX-BZ/WBZ family of device and modules.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23-d1763e632" class="topicref" data-id="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23-d1763e632-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23.html" id="GUID-2A54CAC1-1370-4448-8768-E6C7B8CFCA23-d1763e632-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">6</ph>
Getting Started With Multiprotocol Applications</a><div class="wh-tooltip"><p class="shortdesc">Documentation describing steps to test and develop the precompiled BLE and Zigbee coexistence application examples.</p></div></div></div></li><li role="treeitem"><div data-tocid="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE-d1763e683" class="topicref" data-id="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE.html" id="GUID-64131DE4-2C60-4116-A206-EF72A41E71CE-d1763e683-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">7</ph>
Flashing hex from MPLAB DISCOVER using MPLAB IPE</a><div class="wh-tooltip"><p class="shortdesc">This section provides a detailed procedure of how to download an already existing     application hex file from MPLAB DISCOVER and flash the hex file into WBZ451 Curiosity Board     using MPLAB IPE.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18-d1763e694" class="topicref" data-id="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-3E242310-437D-4F50-9E63-3C9EF144CD18-d1763e694-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18.html" id="GUID-3E242310-437D-4F50-9E63-3C9EF144CD18-d1763e694-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">8</ph>
 Getting Started with IEEE 802.15.4 P2P Phy Application</a></div></div></li><li role="treeitem"><div data-tocid="GUID-5C1924BD-FC6E-4FD5-9786-55FDC1B4035A-d1763e750" class="topicref" data-id="GUID-5C1924BD-FC6E-4FD5-9786-55FDC1B4035A" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-5C1924BD-FC6E-4FD5-9786-55FDC1B4035A.html" id="GUID-5C1924BD-FC6E-4FD5-9786-55FDC1B4035A-d1763e750-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">9</ph>
Getting Started with IEEE 802.15.4 MAC Application Examples</a></div></div></li><li role="treeitem"><div data-tocid="GUID-7B76D0ED-C32B-48B0-AA3C-51B27787BF2B-d1763e759" class="topicref" data-id="GUID-7B76D0ED-C32B-48B0-AA3C-51B27787BF2B" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-7B76D0ED-C32B-48B0-AA3C-51B27787BF2B.html" id="GUID-7B76D0ED-C32B-48B0-AA3C-51B27787BF2B-d1763e759-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">10</ph>
Getting started with Thread Applications</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD-d1763e767" class="topicref" data-id="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD-d1763e767-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD.html" id="GUID-B9333775-2F34-4B60-9429-E1B1B7F505FD-d1763e767-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">11</ph>
How-to: Adding Chip Peripherals</a><div class="wh-tooltip"><p class="shortdesc">Guidance on how to add analog/digital peripherals to your application</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE-d1763e812" class="topicref" data-id="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE-d1763e812-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE.html" id="GUID-F9A40E74-7127-4C2C-B480-2746007AAEAE-d1763e812-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">12</ph>
How-to: Low Power Design</a><div class="wh-tooltip"><p class="shortdesc">Enable low power modes - Sleep/Standby or Deep Sleep/Backup Modes in your design</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B-d1763e844" class="topicref" data-id="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B-d1763e844-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B.html" id="GUID-D7A53CEA-74B4-4CAA-A5D4-F69980188D1B-d1763e844-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">13</ph>
How-to: Firmware and OTA Updates</a><div class="wh-tooltip"><p class="shortdesc">This section documents how to enable FW updates in your design, whether its serial or over the air</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50-d1763e1255" class="topicref" data-id="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50-d1763e1255-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50.html" id="GUID-E1A30ECC-1212-4B25-AE72-7EAF982C6D50-d1763e1255-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">14</ph>
Wireless System Services API</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7-d1763e1944" class="topicref" data-id="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7-d1763e1944-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7.html" id="GUID-5FC6D5A2-B8C3-4AD8-AC31-0AABE237A2F7-d1763e1944-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">15</ph>
Support Documentation</a><div class="wh-tooltip"><p class="shortdesc">This section has documentation that is generic and used as supporting document with our application example documentation</p></div></div></div></li><li role="treeitem"><div data-tocid="GUID-BA0204D8-EFF0-4932-830D-73E2A72614A0-d1763e1992" class="topicref" data-id="GUID-BA0204D8-EFF0-4932-830D-73E2A72614A0" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-BA0204D8-EFF0-4932-830D-73E2A72614A0.html" id="GUID-BA0204D8-EFF0-4932-830D-73E2A72614A0-d1763e1992-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">16</ph>
Porting Guide for WBZ451 to PIC32CX1012BZ25048</a></div></div></li><li role="treeitem"><div data-tocid="GUID-A1E48517-2E8D-4E14-B1BB-B3541DB0DA27-d1763e2000" class="topicref" data-id="GUID-A1E48517-2E8D-4E14-B1BB-B3541DB0DA27" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-A1E48517-2E8D-4E14-B1BB-B3541DB0DA27.html" id="GUID-A1E48517-2E8D-4E14-B1BB-B3541DB0DA27-d1763e2000-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">17</ph>
Porting Guide for WBZ451 to WBZ450</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d1763e2008" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d1763e2008-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d1763e2008-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A1A8B192-15B1-42E1-8F37-BF18F8B1055E"><h1 class="- topic/title title topictitle1" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A1A8B192-15B1-42E1-8F37-BF18F8B1055E" style="">4.2.2 BLE Throughput</h1><div class="- topic/body body"><p class="- topic/shortdesc shortdesc">This document describes in detail the example of <span class="- topic/ph ph">PIC32CXBZ2</span> BLE throughput evaluation using Microchip MBD APP and the  factors
        affecting the BLE throughput. </p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Introduction</strong></p><p class="- topic/p p">The purpose of this document is to illustrate the user-guide of the BLE_THROUGHPUT Application for <span class="- topic/ph ph">PIC32CXBZ2</span>. The BLE_THROUGHPUT Application is designed to demonstrate several functionalities including:</p><div class="- topic/p p">
            <ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-8E11FFE1-AE53-4C4C-A465-6D9140B392D3" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-8E11FFE1-AE53-4C4C-A465-6D9140B392D3">
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-665D4847-06CF-4A16-9A2F-7190993FA1C2" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-665D4847-06CF-4A16-9A2F-7190993FA1C2">
                    <p class="- topic/p p">Connection with mobile phone via BLE.</p>
                </li>
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-22E301EC-696B-4834-B002-75916201D593" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-22E301EC-696B-4834-B002-75916201D593">
                    <p class="- topic/p p">Data transmission between <span class="- topic/ph ph">PIC32CXBZ2</span> and
                        mobile phone via BLE and throughput evaluation.</p>
                </li>
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-8445382B-83BB-41E8-B021-5D64DC7D0E6B" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-8445382B-83BB-41E8-B021-5D64DC7D0E6B">
                    <p class="- topic/p p">Data transmission from <span class="- topic/ph ph">PIC32CXBZ2</span> to mobile
                        phone via BLE and throughput evaluation.</p>
                </li>
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-68ACE38A-BAE6-4C34-8798-4EEAE633F9C5" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-68ACE38A-BAE6-4C34-8798-4EEAE633F9C5"><p class="- topic/p p">Data transmission from mobile
                        phone to <span class="- topic/ph ph">PIC32CXBZ2</span> via BLE and throughput
                        evaluation.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Data Format for Advertising</strong></p><strong class="+ topic/ph hi-d/b ph b">Advertising
                        Data</strong><p class="- topic/p p">The Service Data type is used in advertising data. The data
                        format is shown as below:</p></li>
            </ol>
        </div><div class="- topic/p p">
            <figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6628B86D-66D1-4AE1-8870-34FC57E9B948" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6628B86D-66D1-4AE1-8870-34FC57E9B948"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-91. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D03339FC-1152-4745-9AA2-DC8790E00AB8" class="fig--title">Advertisement Data
                    Format</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption>
                
                
                <div class=""><img class="- topic/image image" src="GUID-999BC867-304D-4EBC-882F-E062E1576A3B-low.png"/></div>
                <div class="- topic/note note notype note_notype" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__NOTE_LWJ_JZG_WYB" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__NOTE_LWJ_JZG_WYB"><span class="note__title">Note:</span>  0xFEDA is a 16-bit Service UUID which is purchased by
                    Microchip from Bluetooth SIG.</div>
            </figure>
        </div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Scan Response Data</strong></p><p class="- topic/p p">The device name is put in the scan response. the device name is set as "BLE_UART_XXXX". (XXXX are
            the last two bytes of the device address.)</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Supported Services and Profiles</strong></p><p class="- topic/p p">The supported service and profile are listed in the following  section.</p><div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Services</strong><ul class="- topic/ul ul" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__UL_AWK_S1H_WYB" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__UL_AWK_S1H_WYB">
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D054A560-59F4-485D-BA89-5EDF666445BF" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D054A560-59F4-485D-BA89-5EDF666445BF">Transparent Service:<p class="- topic/p p">MCHP proprietary service, see Reference [1] for the
                        detail.</p></li>
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-0A55550F-C148-46AC-8C5E-BDAC0B6F2A27" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-0A55550F-C148-46AC-8C5E-BDAC0B6F2A27">
                    <p class="- topic/p p">Device Information Service:</p>
                    <p class="- topic/p p">Bluetooth SIG standard service, see Reference [3] for the detail.</p>
                </li>
            </ul></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Profiles</strong></p><ul class="- topic/ul ul"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-CA8AB14F-C990-4A10-B672-7EE18C3E9922" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-CA8AB14F-C990-4A10-B672-7EE18C3E9922"><p class="- topic/p p">Transparent Profile (TRP)</p>MCHP proprietary
                profile, see Reference [4] for the detail.<p class="- topic/p p">
                    <strong class="+ topic/ph hi-d/b ph b">LED Indication</strong></p></li></ul><div class="- topic/p p">The LED indication is defined as following based on the different role and state:<ul class="- topic/ul ul" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__UL_ULC_X1H_WYB" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__UL_ULC_X1H_WYB">
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-38D6CE0C-2609-4E90-B724-C874BCDEF366" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-38D6CE0C-2609-4E90-B724-C874BCDEF366">Advertising State (No LE link existed) - Green LED flashes one time every 500
                    ms.</li>
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6158DFFB-45C0-45DE-81E1-B7C62D62E28C" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6158DFFB-45C0-45DE-81E1-B7C62D62E28C">Connected with peer device - Green LED is solid on.</li>
            </ul></div><div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Interaction with MBD App</strong><ul class="- topic/ul ul" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__UL_ETP_1BH_WYB" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__UL_ETP_1BH_WYB">
                <li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-E245E189-9DDB-4351-B133-338E2206400C" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-E245E189-9DDB-4351-B133-338E2206400C"><strong class="+ topic/ph hi-d/b ph b">Work with iOS MBD App</strong></li>
            </ul></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Scanning  and Connecting the Device</strong></p><p class="- topic/p p">The steps to scan and connect to the device via MBD app are described  as follows:</p><ul class="- topic/ul ul" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9D85B245-C856-4EBD-93AA-0D2E8A6C5817" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9D85B245-C856-4EBD-93AA-0D2E8A6C5817"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9B9D8CBD-C612-4E80-9011-892C11CFD4AA" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9B9D8CBD-C612-4E80-9011-892C11CFD4AA"><p class="- topic/p p">Tap "BLE UART" in MBD App</p></li></ul><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4D9E21F9-9357-49EA-8916-03FF7DA8CFD4" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4D9E21F9-9357-49EA-8916-03FF7DA8CFD4"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-92. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-699261A3-7724-4325-894B-1137921172FD" class="fig--title">MBD App iOS Version</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-348042A1-12ED-4CE3-AFB6-F45452C86A7A-low.png"/></div></figure></div><ul class="- topic/ul ul"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-2300E4F6-2E9E-409A-8C85-18E1A5FF9D35" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-2300E4F6-2E9E-409A-8C85-18E1A5FF9D35"><p class="- topic/p p">Tap "PIC32CXBZ"</p></li></ul><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3C61A20E-2D02-4CE8-9925-47FFBF214223" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3C61A20E-2D02-4CE8-9925-47FFBF214223"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-93. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-762759E7-8327-478A-9C67-43C02F289BAF" class="fig--title">BLE UART GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-5EEBFE1D-1895-4F6E-B444-90CC23D220A5-low.png"/></div></figure></div><ul class="- topic/ul ul"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-62525707-760B-443F-B883-AC082D3E8C27" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-62525707-760B-443F-B883-AC082D3E8C27"><p class="- topic/p p">Tap "START"</p></li></ul><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9E5FF56E-0D35-4C7E-9C22-764FBE46D5E6" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9E5FF56E-0D35-4C7E-9C22-764FBE46D5E6"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-94. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D5AFD166-17C8-4476-B415-D35AFF315234" class="fig--title">PIC32CXBZ GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-E5BDA7E4-1B02-41E2-8209-8DA7F8C1A40B-low.png"/></div></figure></div><ul class="- topic/ul ul"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-62525707-760B-443F-B883-AC082D3E8C27" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-62525707-760B-443F-B883-AC082D3E8C27"><p class="- topic/p p">Tap "BLE_UART_XXXX" (XXXX are the last two bytes of the device address)</p></li></ul><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6E27015A-4E11-4014-8AD5-51CFBA015DC2" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6E27015A-4E11-4014-8AD5-51CFBA015DC2"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-95. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D07060A1-012B-46B7-9FEF-1472E88F18EF" class="fig--title">"START" Scanning GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-F8557D0E-2F7A-4443-91D5-81F00380EEEE-low.png"/></div></figure></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">- Firmware Version</strong></p><p class="- topic/p p">After LE is connected, tap the setting button:</p><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-75353DBD-DE34-4222-B486-EEBDEED26877" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-75353DBD-DE34-4222-B486-EEBDEED26877"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-96. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-823C8FAB-4D82-44CC-AF03-20D64E69E85A" class="fig--title">"Connected" GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-9B744878-8DA2-4516-BF5D-30FC47B4BB44-low.png"/></div></figure></div><p class="- topic/p p">The firmware version is shown as the following screenshot:</p><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-BE4FD2E2-2B1C-4608-A895-4465504FAAD5" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-BE4FD2E2-2B1C-4608-A895-4465504FAAD5"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-97. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-38B650E3-071F-4985-AEF1-6266A33A48A4" class="fig--title">Firmware Revision in "Setting" GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-D154842A-8AB3-4017-A998-F65E8AB48868-low.png"/></div></figure><strong class="+ topic/ph hi-d/b ph b">- Select Transparent Profile</strong></div><p class="- topic/p p">There are two profiles supported by the MBD "BLE UART" APP but "BLE_THROUGHPUT" firmware supports TRP only.</p><ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-5EFAF497-C9FF-46DF-BE7D-A96A8286C45B" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-5EFAF497-C9FF-46DF-BE7D-A96A8286C45B"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-21B8AF4A-51C5-45EE-A1B9-DB1BBF0C1529" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-21B8AF4A-51C5-45EE-A1B9-DB1BBF0C1529"><p class="- topic/p p">Legacy Transparent Profile (TRP)</p><p class="- topic/p p">This is supported by "BLE_THROUGHPUT" firmware.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4CD7D677-4DB8-4026-A1DD-6E485BB9C156" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4CD7D677-4DB8-4026-A1DD-6E485BB9C156"><p class="- topic/p p">Transparent Credit Based Profile (TRCBP)</p>This is NOT supported by "BLE_THROUGHPUT" firmware.</li></ol><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">- Select GATT WriteType</strong></p><p class="- topic/p p">TRP profile supports both "Write with Response" and "Write without Response", which is much higher than the former.</p><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D8E4D934-4A2D-4667-B53B-A6F50FE612E5" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D8E4D934-4A2D-4667-B53B-A6F50FE612E5"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-98. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-96E557E3-A527-42C2-82F3-90F73E2EDAF4" class="fig--title">GATT WriteType in "Setting" GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-971F9805-29AA-45CE-A812-D9C476527876-low.png"/></div></figure><strong class="+ topic/ph hi-d/b ph b">- Demo Modes</strong></div><p class="- topic/p p">There are two demo modes: Burst Mode and Text Mode. Burst Mode is designed for the throughput evaluation via massive data transmission. Text Mode is designed for the simple text typing.</p><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-FC306DC1-A3F0-43A1-8B01-6DAC7475A7D3" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-FC306DC1-A3F0-43A1-8B01-6DAC7475A7D3"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-99. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-60C1D610-36D7-4686-BBC3-E1BA798CF7D9" class="fig--title">Demo Modes in "Setting" GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-E3098557-271E-4A75-8B87-0D7CD629DB4D-low.png"/></div></figure><strong class="+ topic/ph hi-d/b ph b">A. Burst Mode</strong></div><p class="- topic/p p">There are four data transfer modes supported in Burst Mode:</p><ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-F64F91ED-7E11-4F8F-B448-62CEDA2CB2F5" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-F64F91ED-7E11-4F8F-B448-62CEDA2CB2F5"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-CB13FA33-8784-48E4-A957-64FEEFCB0712" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-CB13FA33-8784-48E4-A957-64FEEFCB0712"><p class="- topic/p p">Checksum mode</p><p class="- topic/p p">MBD App to the device (Uni-direction).</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-F9680D28-3578-476C-BD3B-731A84F9F559" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-F9680D28-3578-476C-BD3B-731A84F9F559"><p class="- topic/p p">Fixed pattern mode</p>Device to MBD App (Uni-direction).</li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3605ABC5-E72A-4A1F-A9C3-5349CA919486" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3605ABC5-E72A-4A1F-A9C3-5349CA919486"><p class="- topic/p p">Loopback mode</p>MBD App → Device → MBD App (Bi-direction).</li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-972CF1BD-109C-4556-9D0C-4D82E8579E98" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-972CF1BD-109C-4556-9D0C-4D82E8579E98"><p class="- topic/p p">UART mode</p><p class="- topic/p p">MBD App → Device → UART output to PC ; UART input from PC → Device → MBD App (Bi-direction). This mode is NOT supported by "BLE THROUGHPUT" firmware.</p></li></ol><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-1B206912-DD55-4885-B3FF-0F681590F12F" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-1B206912-DD55-4885-B3FF-0F681590F12F"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-100. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-EA0FAFE1-6C4D-4417-932F-39595A886C04" class="fig--title">BLE UART Mode in "Setting" GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-55E54691-E1CC-4239-B7A1-3075DE2DFD37-low.png"/></div></figure></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">B. Text Mode</strong></p><p class="- topic/p p">There are two data transfer modes supported in Text Mode:</p><div class="- topic/p p"><ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-F64F91ED-7E11-4F8F-B448-62CEDA2CB2F5" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-F64F91ED-7E11-4F8F-B448-62CEDA2CB2F5"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3605ABC5-E72A-4A1F-A9C3-5349CA919486" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3605ABC5-E72A-4A1F-A9C3-5349CA919486"><p class="- topic/p p">Loopback mode</p>MBD App → Device → MBD App (Bi-direction).</li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-972CF1BD-109C-4556-9D0C-4D82E8579E98" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-972CF1BD-109C-4556-9D0C-4D82E8579E98"><p class="- topic/p p">UART mode</p><p class="- topic/p p">MBD App → Device → UART output. This mode is NOT supported by "BLE THROUGHPUT" firmware.</p></li></ol><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4EF0E0CE-35B1-4DE1-8A8F-99016791D789" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4EF0E0CE-35B1-4DE1-8A8F-99016791D789"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-101. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-3B7FC29A-B0A0-43A5-8BF7-1460BBA04D0E" class="fig--title">Text Mode "Setting" GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-DD3E74AF-EA7F-42A8-B132-7319F95FB1D2-low.png"/></div></figure><strong class="+ topic/ph hi-d/b ph b">2.2. Work with Android MBD App</strong></div><p class="- topic/p p">The operation of Android MBD App is quite the same as the iOS version MBD App.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">3. Throughput Evaluation</strong></p><p class="- topic/p p">In this section, we will describe the throughput evaluation steps and a list of throughput figures tested with a list of phone models for reference only. Finally, we also discuss the factors affecting the throughput.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">3.1 Throughput Evaluation Steps</strong></p><ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-DB13E5F8-92A2-4CA8-AE53-3BA1FB8BE617" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-DB13E5F8-92A2-4CA8-AE53-3BA1FB8BE617"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6543CB70-A265-454A-A607-EFE44E025920" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6543CB70-A265-454A-A607-EFE44E025920"><p class="- topic/p p">Connect a USB cable to a <span class="- topic/ph ph">WBZ451</span> CURIOSITY board</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-AA127D60-AEDA-4549-9EC2-8856DBE10EE9" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-AA127D60-AEDA-4549-9EC2-8856DBE10EE9"><p class="- topic/p p">Download the BLE_THROUGHPUT firmware</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-B66A3D8B-7C1D-4134-B117-26CE899B5F20" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-B66A3D8B-7C1D-4134-B117-26CE899B5F20"><p class="- topic/p p">Run a terminal tool like "Tera Term"</p><p class="- topic/p p">Open the serial port connecting to <span class="- topic/ph ph">WBZ451</span> CURIOSITY and configure the setting as below:</p><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-278D0E3A-1897-4905-83C5-2E5BEC991160" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-278D0E3A-1897-4905-83C5-2E5BEC991160"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-102. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-6FD3BCC9-7796-45F3-A371-5400440D5002" class="fig--title">Serial Port Setup</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-23AB6336-CD2B-4C6A-BEDB-BC35C9F7B0C4-low.png"/></div></figure></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Press the reset button on the <span class="- topic/ph ph">WBZ451</span> CURIOSITY board and the
                    initialization string will be displayed as illustrated in the following image
                    .</p><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-B03DCAED-A7FB-49DD-8F5D-CE0256F150CA" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-B03DCAED-A7FB-49DD-8F5D-CE0256F150CA"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-103. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D4342B50-8F48-4B67-90B2-653AD7D804D4" class="fig--title">Initialization Output</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-2DC1DED7-AA9C-4980-9553-5E249F77BB5A-low.png"/></div></figure></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Connect the "BLE UART" of MBD APP to <span class="- topic/ph ph">WBZ451</span> CURIOSITY board</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Select Burst mode</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Select Demo Mode in setting page. Except the UART mode, all the other modes are supported by
                    "BLE_THROUGHPUT"</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Select Text file size in the Setting page</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">The TRP profile is automatically selected</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Select <strong class="+ topic/ph hi-d/b ph b">GATT WriteType</strong></p><p class="- topic/p p">"Write without Response" will achieve much higher throughput.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Tap <strong class="+ topic/ph hi-d/b ph b">Done</strong> and back to the previous page</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-D9E8EA51-E54E-47F6-BC2D-69D2F37B50DE"><p class="- topic/p p">Tap <strong class="+ topic/ph hi-d/b ph b">START</strong></p><p class="- topic/p p">After sending the file, the throughput is evaluated and shown as below:</p><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-11175338-E82D-4B42-9EDE-BA5936A20071" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-11175338-E82D-4B42-9EDE-BA5936A20071"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-104. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-41F6489B-17CD-4074-A1FE-4BC71B8F96D9" class="fig--title">Throughput Evaluation GUI</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-1088077A-196F-402E-85D3-F60AF02B96EB-low.png"/></div></figure></li></ol><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">3.2 Throughput Test Report</strong></p><p class="- topic/p p">The below tables show the throughput test result with iOS and Android devices with the configuration as</p><ul class="- topic/ul ul"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A4BFF7F3-051F-4363-B9E7-8E022EC217EC" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A4BFF7F3-051F-4363-B9E7-8E022EC217EC"><p class="- topic/p p">Profile</p><p class="- topic/p p">TRP</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-CF747895-DAFD-4611-93B1-7AA4764BD298" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-CF747895-DAFD-4611-93B1-7AA4764BD298"><p class="- topic/p p">GATT Write Type</p><p class="- topic/p p">Write without Response</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A51E87C4-29D3-48ED-B392-CD18F388F79A" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A51E87C4-29D3-48ED-B392-CD18F388F79A"><p class="- topic/p p">Downlink</p><p class="- topic/p p">Tested with "Checksum" data transfer mode</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-5EA3A8EE-0961-4B38-9518-325C464B3D47" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-5EA3A8EE-0961-4B38-9518-325C464B3D47"><p class="- topic/p p">Uplink</p><p class="- topic/p p">Tested "Fixed pattern" data transfer mode</p></li></ul><ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-5F8CD81F-2FE6-42B9-85E8-25FA75D21875" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-5F8CD81F-2FE6-42B9-85E8-25FA75D21875"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-34921DB7-E557-45F6-8707-3A87F9E11C79" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-34921DB7-E557-45F6-8707-3A87F9E11C79"><p class="- topic/p p">iOS Devices</p><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-AB20E12D-0A68-49C4-8255-C36F96388F39" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-AB20E12D-0A68-49C4-8255-C36F96388F39"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-105. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-EBF237C6-201E-4D02-AB59-4485C47C4C25" class="fig--title">Reference Throughput with iOS Devices</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-9F1F295F-9AAC-4B9F-A555-5A400DE58F92-low.png"/></div></figure></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4FC748AB-FB48-4422-BF7D-7899A50BC14A" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-4FC748AB-FB48-4422-BF7D-7899A50BC14A"><p class="- topic/p p">Android Devices</p><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-69D1D17F-E5DE-4D24-B2BC-BB1AB2F32004" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-69D1D17F-E5DE-4D24-B2BC-BB1AB2F32004"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-106. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9D1EAB0D-7D28-46A8-BA7A-149B8232BCAC" class="fig--title">Reference Throughput with Android Devices</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-71C7662E-B869-44C5-BC07-A5301A448D39-low.png"/></div></figure></li></ol><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">3.3 Factors affecting Throughput</strong></p><p class="- topic/p p">In BLE_THROUGHPUT example, the <span class="- topic/ph ph">WBZ451</span> is the GATT server while the MBD App is the GATT client. There are 7 main factors affecting the throughput. Some factors are negotiated and determined by the BLE stack of the GATT client and server. And some factors can be modified or requested by the user level application code using the APIs exposed by underneath BLE stack.</p><ol class="- topic/ol ol" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A09BBB1B-D04A-45D9-993E-48F77AFE18CA" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A09BBB1B-D04A-45D9-993E-48F77AFE18CA"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-30B30A27-4F77-41EC-BFCB-9FF968130569" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-30B30A27-4F77-41EC-BFCB-9FF968130569"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">ATT MTU size</strong></p><p class="- topic/p p">Larger MTU size achieves higher throughput. Assuming the MTU size is x, then the Max application data payload in one operation is of x minus 3( excluding 1byte of GATT operation code and 2 bytes of the attribute handle ).</p><p class="- topic/p p">In <span class="- topic/ph ph">PIC32CX1012BZ25048</span> BLE stack, the Max MTU is set to 247 bytes. The final MTU used by the GATT client and server will depends on the negotiation initiated by the GATT client. For iOS, the MTU size is determined by the underneath BLE stack while the user level application can use API to learn the determined MTU. For Android, the MTU size can be requested by the user level application code using API of "<strong class="+ topic/ph hi-d/b ph b">requestMtu (int mtu)</strong>" and the user application code should observe the result from "<strong class="+ topic/ph hi-d/b ph b">onMtuChanged</strong> " callback.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9AA977FC-DC59-408B-B9A0-36749B7534FC" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9AA977FC-DC59-408B-B9A0-36749B7534FC"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Operation Type</strong></p><p class="- topic/p p">For downlink operation, the "Write without Response"(Write Command) is always faster than the "Write with Response"(Write Request).</p><p class="- topic/p p">For uplink operation, the Notify operation is always faster than the Indication operation which requires a confirm from peer device.</p><p class="- topic/p p">It's the responsibility of BLE_THROUGHPUT firmware to define the property of the GATT characteristics. The property in turn defines the permitted operation type.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-05B9BA2A-F8F7-4554-B4EE-3BD97D0E8FAA" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-05B9BA2A-F8F7-4554-B4EE-3BD97D0E8FAA"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Data Length Extension(DLE)</strong></p><p class="- topic/p p">Link layer data packet length by default is 27 bytes. From BLE 4.2 onward, the link layer data packet length can be extended to as long as 251bytes. This feature is called Data Length Extension(DLE). Note that some phone models might not support DLE while <span class="- topic/ph ph">PIC32CX1012BZ25048</span> BLE stack supports it. DLE negotiation is conducted by underneath BLE stack of both the client and the server. User level application code has no API to modify the link layer data packet length.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-71CB91B1-4630-498F-BC7A-3613EFF386B2" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-71CB91B1-4630-498F-BC7A-3613EFF386B2"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Connection Interval(CI)</strong></p><p class="- topic/p p">The CI defines the frequency of the Connection Event. Shorter CI causes higher frequency of the Connection Event. Certain number of data packets can be sent during one connection event. It is obvious that the shorter CI the lesser number of data packets can be sent in one Connection Event. In contrast, the longer CI the higher opportunity to send larger number of data packets in one Connection Event. The iOS device might limit the CI parameter according to the peripheral type. See reference[6] for more details.</p><p class="- topic/p p"><span class="- topic/ph ph">PIC32CX1012BZ25048</span> BLE stack provides API of "<strong class="+ topic/ph hi-d/b ph b">BLE_DM_ConnectionParameterUpdate</strong>" to update the connection parameter. The final connection parameter is decided by negotiation of both the client and the server stack.</p><p class="- topic/p p">On Android the equivalent API is "<strong class="+ topic/ph hi-d/b ph b">requestConnectionPriority</strong>" while there is no such similar API available on iOS.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-E339CD83-F774-41DC-BE60-EDD786CDB026" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-E339CD83-F774-41DC-BE60-EDD786CDB026"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Number of Data Packets per Connection Event</strong></p><p class="- topic/p p">The number varies from iOS to Android and from revision to revision. There is no direct API available on either iOS or Android to define this number. User can fine tune the CI to get ideal value and verify the result in the air log.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-57315647-2277-4B5D-8747-0A011B240A69" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-57315647-2277-4B5D-8747-0A011B240A69"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">PHY Selection</strong></p><p class="- topic/p p">From BLE 5.0 onward, LE 2M PHY is introduced. It is 2x faster than the former LE 1M PHY. Gradually the phone models in the market will embrace this new feature. Either the GATT client or server might request to update the PHY to LE 2M according to PHY Update Procedure defined by SIG, see reference [7] for details. <span class="- topic/ph ph">WBZ451</span> is born to support this feature and the API of "<strong class="+ topic/ph hi-d/b ph b">BLE_GAP_SetPhy</strong>" is available to user level application code to change the PHY selected.</p><ul class="- topic/ul ul" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A09BBB1B-D04A-45D9-993E-48F77AFE18CA" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-A09BBB1B-D04A-45D9-993E-48F77AFE18CA"><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-57315647-2277-4B5D-8747-0A011B240A69" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-57315647-2277-4B5D-8747-0A011B240A69"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">PHY Update Procedure</strong></p></li></ul><p class="- topic/p p">In BLE_THROUGHPUT example, the API "<strong class="+ topic/ph hi-d/b ph b">BLE_GAP_SetPhy</strong>" is called on writing the handle of TRP TX characteristic CCCD(Client Characteristic Configuration Descriptor) operated by peer device illustrated as below image. For more details on TRP, see reference[1].</p><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9868DF46-DE92-42E3-94BD-F5C4671A5E8E" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9868DF46-DE92-42E3-94BD-F5C4671A5E8E"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-107. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-19BA3A6F-6E72-4C14-ACE5-52433C0ACA2E" class="fig--title">PHY Update Procedure in Example Firmware</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-065BBE88-550A-4B51-875D-39B70DA00A06-low.png"/></div></figure></div><p class="- topic/p p">A event of <strong class="+ topic/ph hi-d/b ph b">BLE_GAP_EVT_PHY_UPDATE</strong> will be generated on the completion of this procedure then the user can check the result in this event. This event is handled by <strong class="+ topic/ph hi-d/b ph b">APP_BleGapEvtHandler( )</strong> of GAP handler in this example.</p></li><li class="- topic/li li" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-57315647-2277-4B5D-8747-0A011B240A69" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-57315647-2277-4B5D-8747-0A011B240A69"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">The RF Factor</strong></p><p class="- topic/p p">The noisy RF environment can decrease the throughput. The well designed RF circuit can achieve higher throughput. Finally, the casing condition of the end product containing the BLE device can also affect the throughput.</p></li></ol><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">4. The BLE_THROUGHPUT Example Firmware Diagram</strong></p><p class="- topic/p p">The BLE_THROUGHPUT firmware is designed for <span class="- topic/ph ph">WBZ451</span> CURIOSITY board. The firmware is based on TRP service. There are 3 data transfer modes supported by the BLE_THROUGHPUT firmware, including Checksum mode, Fixed pattern mode and Loopback mode. To simplify, the UART mode is not implemented in this example. The firmware diagram below illustrates the main part of the firmware.</p><div class="- topic/p p"><figure class="- topic/fig fig fignone" id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9647878B-BB6E-4274-A2D7-B8712CF9116A" data-ofbid="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-9647878B-BB6E-4274-A2D7-B8712CF9116A"><figcaption class="- topic/title title figcap"><span class="figtitleprefix fig--title-label">Figure 4-108. <span id="GUID-BAAA9A7D-DCB6-4ADB-820A-68D1E8B81B09__GUID-C88F4525-592F-4DE4-8B6D-53B467253198" class="fig--title">Example Firmware Diagram</span></span>. <span class="- topic/desc desc figdesc"></span></figcaption><div class=""><img class="- topic/image image" src="GUID-FCDEAD9A-A661-4B61-9908-44655E333E58-low.png"/></div></figure></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">References</strong></p><p class="- topic/p p">[1] <a class="- topic/xref xref" href="https://onlinedocs.microchip.com/pr/GUID-C5EAF60E-9124-427C-A0F1-F2DBE662EA92-en-US-1/index.html?GUID-3343772E-C6A4-4195-B8E7-42568CBBDE6F" target="_blank" rel="external noopener">Microchip Transparent Service_v1.1</a></p><p class="- topic/p p">[2] <a class="- topic/xref xref" href="https://onlinedocs.microchip.com/pr/GUID-C5EAF60E-9124-427C-A0F1-F2DBE662EA92-en-US-1/index.html?GUID-C14BCBFE-5169-4BDB-A2F9-7B09FB4DB3F7" target="_blank" rel="external noopener">Microchip Transparent Credit Based Service v1.0</a></p><p class="- topic/p p">[3] https://www.bluetooth.com/specifications/gatt/</p><p class="- topic/p p">[4] <a class="- topic/xref xref" href="https://onlinedocs.microchip.com/pr/GUID-C5EAF60E-9124-427C-A0F1-F2DBE662EA92-en-US-1/index.html?GUID-DBD3AFD8-6BFB-4B13-A3C0-C05ADCE92BA6" target="_blank" rel="external noopener">Microchip Transparent Profile_v1.1</a></p><p class="- topic/p p">[5] <a class="- topic/xref xref" href="https://onlinedocs.microchip.com/pr/GUID-C5EAF60E-9124-427C-A0F1-F2DBE662EA92-en-US-1/index.html?GUID-A1595ACB-6522-44A3-8CF5-5C6F04A32490" target="_blank" rel="external noopener">Microchip Transparent Credit Based Profile_v1.0</a></p><p class="- topic/p p">[6] https://developer.apple.com/accessories/Accessory-Design-Guidelines.pdf</p><p class="- topic/p p">[7] <u class="+ topic/ph hi-d/u ph u">https://www.bluetooth.com/specifications/specs/core-specification-5-3/</u></p></div></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <div class="mchp_disclaimer"><p class="mchp_disclaimer_text">The online versions of the documents are provided as a courtesy. Verify all content and data in the device’s PDF documentation found on the device product page.</p></div><footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
        
        <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
        </body>
</html>